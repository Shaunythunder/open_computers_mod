/*     */ package li.cil.oc.server.component;
/*     */ @ScalaSignature(bytes = "\006\001\021Ef\001B\001\003\0015\021Ab\022:ba\"L7m]\"be\022T!a\001\003\002\023\r|W\016]8oK:$(BA\003\007\003\031\031XM\035<fe*\021q\001C\001\003_\016T!!\003\006\002\007\rLGNC\001\f\003\ta\027n\001\001\024\t\001qa\003\b\t\003\037Qi\021\001\005\006\003#I\ta\001\035:fM\006\024'BA\n\007\003\r\t\007/[\005\003+A\021!#T1oC\036,G-\0228wSJ|g.\\3oiB\021qCG\007\0021)\021\021DE\001\007IJLg/\032:\n\005mA\"A\003#fm&\034W-\0238g_B\021QdI\007\002=)\021q\004I\001\007iJ\f\027\016^:\013\005\r\t#B\001\022\007\003\031\031w.\\7p]&\021AE\b\002\017-&$Wm\034*b[\022+g/[2f\021!1\003A!b\001\n\0039\023\001\002;jKJ,\022\001\013\t\003S1j\021A\013\006\002W\005)1oY1mC&\021QF\013\002\004\023:$\b\002C\030\001\005\003\005\013\021\002\025\002\013QLWM\035\021\t\013E\002A\021\001\032\002\rqJg.\033;?)\t\031T\007\005\0025\0015\t!\001C\003'a\001\007\001\006C\0048\001\t\007I\021\t\035\002\t9|G-Z\013\002sA\021!(P\007\002w)\021AHE\001\b]\026$xo\034:l\023\tq4HA\005D_:tWm\031;pe\"1\001\t\001Q\001\ne\nQA\\8eK\002BqA\021\001C\002\023%1)A\007nCb\024Vm]8mkRLwN\\\013\002\tB!\021&\022\025)\023\t1%F\001\004UkBdWM\r\005\007\021\002\001\013\021\002#\002\0355\f\007PU3t_2,H/[8oA!9!\n\001b\001\n\023Y\025\001C7bq\022+\007\017\0365\026\0031\003\"!T,\017\0059#fBA(S\035\t\001\026+D\001\007\023\t\031b!\003\002T%\005A\021N\034;fe:\fG.\003\002V-\006QA+\032=u\005V4g-\032:\013\005M\023\022B\001-Z\005)\031u\016\\8s\t\026\004H\017\033\006\003+ZCaa\027\001!\002\023a\025!C7bq\022+\007\017\0365!\021\035i\006\0011A\005\ny\013Qb]2sK\026t\027\t\0323sKN\034X#A0\021\007%\002'-\003\002bU\t1q\n\035;j_:\004\"a\0314\017\005%\"\027BA3+\003\031\001&/\0323fM&\021q\r\033\002\007'R\024\030N\\4\013\005\025T\003b\0026\001\001\004%Ia[\001\022g\016\024X-\0328BI\022\024Xm]:`I\025\fHC\0017p!\tIS.\003\002oU\t!QK\\5u\021\035\001\030.!AA\002}\0131\001\037\0232\021\031\021\b\001)Q\005?\006q1o\031:fK:\fE\r\032:fgN\004\003b\002;\001\001\004%I!^\001\017g\016\024X-\0328J]N$\030M\\2f+\0051\bcA\025aoB\021\0010_\007\002-&\021!P\026\002\013)\026DHOQ;gM\026\024\bb\002?\001\001\004%I!`\001\023g\016\024X-\0328J]N$\030M\\2f?\022*\027\017\006\002m}\"9\001o_A\001\002\0041\bbBA\001\001\001\006KA^\001\020g\016\024X-\0328J]N$\030M\\2fA!A\021Q\001\001A\002\023%q%A\006ck\0324WM]%oI\026D\b\"CA\005\001\001\007I\021BA\006\003=\021WO\0324fe&sG-\032=`I\025\fHc\0017\002\016!A\001/a\002\002\002\003\007\001\006C\004\002\022\001\001\013\025\002\025\002\031\t,hMZ3s\023:$W\r\037\021\t\017\005U\001\001\"\003\002\030\00511o\031:fK:$b!!\007\002&\005%\002#B\025\002\034\005}\021bAA\017U\t)\021I\035:bsB\031\021&!\t\n\007\005\r\"F\001\004B]f\024VM\032\005\b\003O\t\031\0021\001)\003\025Ig\016Z3y\021!\tY#a\005A\002\0055\022!\0014\021\r%\nyc^A\r\023\r\t\tD\013\002\n\rVt7\r^5p]FBq!!\006\001\t\023\t)\004\006\003\002\032\005]\002\002CA\026\003g\001\r!!\f\t\023\005m\002A1A\005\006\005u\022AE:fi\n\0137m[4s_VtGmQ8tiN,\"!a\020\021\013%\nY\"!\021\021\007%\n\031%C\002\002F)\022a\001R8vE2,\007\002CA%\001\001\006i!a\020\002'M,GOQ1dW\036\024x.\0368e\007>\034Ho\035\021\t\023\0055\003A1A\005\006\005u\022AE:fi\032{'/Z4s_VtGmQ8tiND\001\"!\025\001A\0035\021qH\001\024g\026$hi\034:fOJ|WO\0343D_N$8\017\t\005\n\003+\002!\031!C\003\003{\tAc]3u!\006dW\r\036;f\007>dwN]\"pgR\034\b\002CA-\001\001\006i!a\020\002+M,G\017U1mKR$XmQ8m_J\034un\035;tA!I\021Q\f\001C\002\023\025\021QH\001\tg\026$8i\\:ug\"A\021\021\r\001!\002\033\ty$A\005tKR\034un\035;tA!I\021Q\r\001C\002\023\025\021QH\001\nG>\004\030pQ8tiND\001\"!\033\001A\0035\021qH\001\013G>\004\030pQ8tiN\004\003\"CA7\001\t\007IQAA\037\003%1\027\016\0347D_N$8\017\003\005\002r\001\001\013QBA \003)1\027\016\0347D_N$8\017\t\005\n\003k\002!\031!C\003\003o\n!BY5uE2$8i\\:u+\t\t\t\005\003\005\002|\001\001\013QBA!\003-\021\027\016\0362mi\016{7\017\036\021\t\023\005}\004A1A\005\006\005]\024!\003;pi\006dgKU!N\021!\t\031\t\001Q\001\016\005\005\023A\003;pi\006dgKU!NA!I\021q\021\001A\002\023\005\021\021R\001\020EV$w-\032;Fq\"\fWo\035;fIV\021\0211\022\t\004S\0055\025bAAHU\t9!i\\8mK\006t\007\"CAJ\001\001\007I\021AAK\003M\021W\017Z4fi\026C\b.Y;ti\026$w\fJ3r)\ra\027q\023\005\na\006E\025\021!a\001\003\027C\001\"a'\001A\003&\0211R\001\021EV$w-\032;Fq\"\fWo\035;fI\002B!\"a(\001\021\013\007IQBAQ\003)!WM^5dK&sgm\\\013\003\003G\003r!!*\0020\006M&-\004\002\002(*!\021\021VAV\003%IW.\\;uC\ndWMC\002\002.*\n!bY8mY\026\034G/[8o\023\021\t\t,a*\003\0075\013\007\017\005\003\0026\006}VBAA\\\025\021\tI,a/\002\t1\fgn\032\006\003\003{\013AA[1wC&\031q-a.\t\025\005\r\007\001#A!B\033\t\031+A\006eKZL7-Z%oM>\004\003bBAd\001\021\005\021\021Z\001\rG\006\004\030mY5us&sgm\\\013\002E\"9\021Q\032\001\005\002\005%\027!C<jIRD\027J\0344p\021\035\t\t\016\001C\001\003\023\f\021b\0317pG.LeNZ8\t\017\005U\007\001\"\021\002X\006iq-\032;EKZL7-Z%oM>$\"!!7\021\r\005m\027\021\0352c\033\t\tiN\003\003\002`\006m\026\001B;uS2LA!!-\002^\"9\021Q\035\001\005\n\005\035\030A\005:fg>dg/Z%om>\\WmQ8tiN$B\"a#\002j\0065\030Q B\001\005\013Aq!a;\002d\002\007\001&A\002jIbD\001\"a<\002d\002\007\021\021_\001\bG>tG/\032=u!\021\t\0310!?\016\005\005U(bAA|%\0059Q.Y2iS:,\027\002BA~\003k\024qaQ8oi\026DH\017\003\005\002\000\006\r\b\031AA!\003)\021W\017Z4fi\016{7\017\036\005\b\005\007\t\031\0171\001)\003\025)h.\033;t\021!\0219!a9A\002\005\005\023A\0024bGR|'\017C\004\003\f\001!\tA!\004\002\037\035,G/Q2uSZ,')\0364gKJ$b!!\007\003\020\tE\001\002CAx\005\023\001\r!!=\t\021\tM!\021\002a\001\005+\tA!\031:hgB!\0211\037B\f\023\021\021I\"!>\003\023\005\023x-^7f]R\034\b\006\004B\005\005;\021\031C!\n\003(\t%\002\003BAz\005?IAA!\t\002v\nA1)\0317mE\006\0347.\001\004eSJ,7\r^\r\002\003\005\031Am\\2\"\005\t-\022!a\tgk:\034G/[8oQ%R\004E\\;nE\026\024\b%L\027!e\026$XO\0358tAQDW\rI5oI\026D\be\0344!i\",\007eY;se\026tG\017\\=!g\026dWm\031;fI\002\022WO\0324fe:\002\003\007I5tAI,7/\032:wK\022\004cm\034:!i\",\007e]2sK\026tg\006I\"b]\002\022X\r^;s]\002\002\004%\032<f]\002:\b.\0328!i\",'/\032\021jg\002rw\016I:de\026,g\016C\004\0030\001!\tA!\r\002\037M,G/Q2uSZ,')\0364gKJ$b!!\007\0034\tU\002\002CAx\005[\001\r!!=\t\021\tM!Q\006a\001\005+ACB!\f\003\036\t\r\"Q\005B\024\005s\t#Aa\017\002\003S2WO\\2uS>t\007&\0338eKbT\004E\\;nE\026\024\030F\017\021ok6\024WM\035\021.[\001\032V\r^:!i\",\007%Y2uSZ,\007EY;gM\026\024\b\005^8!A&tG-\032=a]\001\n\004%[:!i\",\007EZ5sgR\004cO]1nA\t,hMZ3sA\005tG\r\t\031!SN\004#/Z:feZ,G\r\t4pe\002\"\b.\032\021tGJ,WM\034\030!e\026$XO\0358tA9LG\016\t4pe\002JgN^1mS\022\004\023N\0343fq\002B\003\007I5tA\005dw/Y=tAY\fG.\0333*\021\035\021y\004\001C\001\005\003\nqAY;gM\026\0248\017\006\004\002\032\t\r#Q\t\005\t\003_\024i\0041\001\002r\"A!1\003B\037\001\004\021)\002\013\007\003>\tu!1\005B\023\005O\021I%\t\002\003L\005Qe-\0368di&|g\016K\025;A9,XNY3sA5j\003EU3ukJt7\017I1oA\005\024(/Y=!_\032\004\023N\0343fq\026\034\be\0344!i\",\007%\0317m_\016\fG/\0323!EV4g-\032:t\021\035\021y\005\001C\001\005#\na\"\0317m_\016\fG/\032\"vM\032,'\017\006\004\002\032\tM#Q\013\005\t\003_\024i\0051\001\002r\"A!1\003B'\001\004\021)\002\013\007\003N\tu!1\005B\023\005O\021I&\t\002\003\\\005\031\tGZ;oGRLwN\034\025\\o&$G\017\033\036!]Vl'-\032:-A!,\027n\0325uu\001rW/\0342fevK#\b\t8v[\n,'\017I\027.A\005dGn\\2bi\026\034\b%\031\021oK^\004#-\0364gKJ\004s/\033;iA\021LW.\0328tS>t7\017I<jIRD'\006[3jO\"$\b\005\0133fM\006,H\016^:!i>\004S.\031=!e\026\034x\016\\;uS>t\027\006I1oI\002\n\007\017]3oIN\004\023\016\036\021u_\002\"\b.\032\021ck\0324WM\035\021mSN$h\006\t*fiV\024hn\035\021uQ\026\004\023N\0343fq\002zg\r\t;iK\002rWm\036\021ck\0324WM\035\021b]\022\004#/\032;ve:\034\bE\\5mA]LG\017\033\021b]\002*'O]8sA5,7o]1hK\002zg\016\t4bS2,(/\032\030!\003\002\022WO\0324fe\002\032\027M\034\021cK\002\nG\016\\8dCR,G\rI3wK:\004s\017[3oAQDWM]3!SN\004cn\034\021tGJ,WM\034\021c_VtG\r\t;pAQD\027n\035\021haVt\003%\0238eKb\004\003\007I5tA\005dw/Y=tAI,7/\032:wK\022\004cm\034:!i\",\007e]2sK\026t\007%\0318eAQDWo\035\021uQ\026\004Cn\\<fgR\004\023N\0343fq\002zg\rI1oA\005dGn\\2bi\026$\007EY;gM\026\024\b%[:!C2<\030-_:!c9BqAa\030\001\t\003\022\t'\001\np]\n+hMZ3s%\006lG)Z:ue>LHc\0017\003d!9!Q\rB/\001\004A\023AA5e\021\035\021I\007\001C\001\005W\n!B\032:fK\n+hMZ3s)\031\tIB!\034\003p!A\021q\036B4\001\004\t\t\020\003\005\003\024\t\035\004\031\001B\013Q1\0219G!\b\003$\t\025\"q\005B:C\t\021)(AA\021MVt7\r^5p]\"Jg\016Z3yu\001rW/\0342fe&R\004EY8pY\026\fg\016I\027.A\rcwn]3tA\t,hMZ3sA\005$\b\005Y5oI\026D\bM\f\021SKR,(O\\:!iJ,X\rI5gA\005\004#-\0364gKJ\0043\r\\8tK\022t\003%\0234!i\",\007eY;se\026tG\017\t2vM\032,'\017I5tA\rdwn]3eY\001Jg\016Z3yA5|g/Z:!i>\004\003\007C\004\003z\001!\tAa\037\002\035\031\024X-Z!mY\n+hMZ3sgR1\021\021\004B?\005B\001\"a<\003x\001\007\021\021\037\005\t\005'\0219\b1\001\003\026!b!q\017B\017\005G\021)Ca\n\003\004\006\022!QQ\001qMVt7\r^5p]\"J#\b\t8v[\n,'\017I\027.A\rcwn]3tA\005dG\016\t2vM\032,'o\035\021b]\022\004#/\032;ve:\034\b\005\0365fA\r|WO\034;/A%3\007\005\0365fA\005\034G/\033<fA\t,hMZ3sA%\034\be\0317pg\026$G\006I5oI\026D\b%\\8wKN\004Co\034\0211\021\035\021I\t\001C\001\005\027\0131\002^8uC2lU-\\8ssR1\021\021\004BG\005\037C\001\"a<\003\b\002\007\021\021\037\005\t\005'\0219\t1\001\003\026!b!q\021B\017\005G\021)Ca\n\003\024\006\022!QS\001gMVt7\r^5p]\"J#\b\t8v[\n,'\017I\027.AI,G/\036:og\002\"\b.\032\021u_R\fG\016I7f[>\024\030\020I:ju\026\004sN\032\021uQ\026\004s\r];!mJ\fWN\f\021UQ&\034\b\005Z8fg\002rw\016\036\021j]\016dW\017Z3!i\",\007e]2sK\026tg\006C\004\003\032\002!\tAa'\002\025\031\024X-Z'f[>\024\030\020\006\004\002\032\tu%q\024\005\t\003_\0249\n1\001\002r\"A!1\003BL\001\004\021)\002\013\007\003\030\nu!1\005B\023\005O\021\031+\t\002\003&\006yg-\0368di&|g\016K\025;A9,XNY3sA5j\003E]3ukJt7\017\t;iK\002\"x\016^1mA\031\024X-\032\021nK6|'/\037\021o_R\004\023\r\0347pG\006$X\r\032\021u_\002\022WO\0324feNt\003\005\0265jg\002\"w.Z:!]>$\b%\0338dYV$W\r\t;iK\002\0328M]3f]:BqA!+\001\t\003\021Y+A\007hKR\024UO\0324feNK'0\032\013\007\0033\021iKa,\t\021\005=(q\025a\001\003cD\001Ba\005\003(\002\007!Q\003\025\r\005O\023iBa\t\003&\t\035\"1W\021\003\005k\013\021q\0064v]\016$\030n\0348)S:$W\r\037\036!]Vl'-\032:*u\001rW/\0342fe2\002c.^7cKJ\004S&\f\021sKR,(O\\:!i\",\007EY;gM\026\024\be]5{K\002\nG\017I5oI\026Dh\006\t*fiV\024hn\035\021uQ\026\0043o\031:fK:\004#/Z:pYV$\030n\0348!M>\024\b%\0338eKb\004\003G\f\021sKR,(O\\:!]&d\007EZ8sA%tg/\0317jI\002Jg\016Z3yKNDqA!/\001\t\023\021Y,A\reKR,'/\\5oK\nKGO\0317u\005V$w-\032;D_N$HCBA!\005{\023\t\rC\004\003@\n]\006\031A<\002\007\021\034H\017C\004\003D\n]\006\031A<\002\007M\0248\rC\004\003H\002!IA!3\0023\021,G/\032:nS:,')\033;cYR,e.\032:hs\016{7\017\036\013\005\003\003\022Y\rC\004\003@\n\025\007\031A<\t\017\t=\007\001\"\001\003R\0061!-\033;cYR$b!!\007\003T\nU\007\002CAx\005\033\004\r!!=\t\021\tM!Q\032a\001\005+ACB!4\003\036\t\r\"Q\005B\024\0053\f#Aa7\002\007\0171WO\\2uS>t\007f\0273tij\002c.^7cKJd\003eY8mu\001rW/\0342fe2\002#o\\<;A9,XNY3sY\001:\030\016\032;iu\001rW/\0342fe2\002\003.Z5hQRT\004E\\;nE\026\024H\006I:sGj\002c.^7cKJd\003E\032:p[\016{GN\017\021ok6\024WM\035\027!MJ|WNU8xu\001rW/\0342fevK#HY8pY\026\fg\016I\027.A\tLGO\0317uA\031\024x.\034\021ck\0324WM\035\021u_\002\0328M]3f]:\002\023\t\0347!a\006\024\030-\\3uKJ\034\b%\031:fA=\004H/[8oC2t\003e\026:ji\026\034\b\005^8!A\022\034H\017\031\021qC\036,\007%\0338!e\026\034G/\0318hY\026\004\003\r\037\027!s2\002s/\0333uQ2\002\003.Z5hQR\004G\006\t3fM\006,H\016^:!i>\004C\017[3!E>,h\016\032\021tGJ,WM\034\021b]\022\004\023\016^:!m&,w\017]8si:\002#+Z1eg\002\"\027\r^1!MJ|W\016\t1te\016\004\007\005]1hK\002\nG\017\t1gq2\002c-\0371-A\021,g-Y;mi\002J7\017\t;iK\002\n7\r^5wK\002\002\030mZ3!MJ|W\016\t9pg&$\030n\0348!c1\002\023\007C\004\003`\002!\tA!9\002\t\tLg\016\032\013\007\0033\021\031O!:\t\021\005=(Q\034a\001\003cD\001Ba\005\003^\002\007!Q\003\025\t\005;\024iBa\n\003j\006\022!1^\001\002@\031,hn\031;j_:D\023\r\0323sKN\034(h\035;sS:<7\f\f\021sKN,GO\0172p_2,\027M\\\037ueV,W,\013\036c_>dW-\0318![5\002#)\0338eg\002\"\b.\032\021H!V\003Co\034\021uQ\026\0043o\031:fK:\004s/\033;iAQDW\rI:qK\016Lg-[3eA\005$GM]3tg\002\ng\016\032\021sKN,Go\035\021tGJ,WM\034\021tKR$\030N\\4tA%4\007\005\031:fg\026$\b\rI5tAQ\024X/\032\030\t\017\t=\b\001\"\001\003r\006Iq-\032;TGJ,WM\034\013\007\0033\021\031P!>\t\021\005=(Q\036a\001\003cD\001Ba\005\003n\002\007!Q\003\025\r\005[\024iBa\t\003&\t\035\"\021`\021\003\005w\f\021KZ;oGRLwN\034\025*uM$(/\0338hA5j\003eR3uAQDW\rI1eIJ,7o\035\021pM\002\"\b.\032\021tGJ,WM\034\021uQ\026\004s\tU+!SN\0043-\036:sK:$H.\037\021c_VtG\r\t;p]!9!q \001\005\002\r\005\021!D4fi\n\0137m[4s_VtG\r\006\004\002\032\r\r1Q\001\005\t\003_\024i\0201\001\002r\"A!1\003B\001\004\021)\002\013\007\003~\nu!1\005B\023\005O\031I!\t\002\004\f\005Ag-\0368di&|g\016K\025;]Vl'-\032:-A\t|w\016\\3b]\002jS\006I$fi\002\"\b.\032\021dkJ\024XM\034;!E\006\0347n\032:pk:$\007eY8m_J\004\023M\0343!o\",G\017[3sA%$xe\035\021ge>l\007\005\0365fAA\fG.\032;uK\002z'\017\t8pi:Bqaa\004\001\t\003\031\t\"A\007tKR\024\025mY6he>,h\016\032\013\007\0033\031\031b!\006\t\021\005=8Q\002a\001\003cD\001Ba\005\004\016\001\007!Q\003\025\r\007\033\021iBa\t\003&\t\0352\021D\021\003\0077\t\021\021\0334v]\016$\030n\0348)m\006dW/\032\036ok6\024WM].-AA\fG.\032;uKj\022wn\0347fC:l\026F\0178v[\n,'\017\f\021ok6\024WM\035\021pe\002r\027\016\034\021.[\001\032V\r^:!i\",\007EY1dW\036\024x.\0368eA\r|Gn\034:!i>\004C\017[3!gB,7-\0334jK\022\004c/\0317vK:\002s\n\035;j_:\fG\016\\=!i\006\\Wm\035\021b]\002*\007\020\0357jG&$\b\005]1mKR$X\rI5oI\026Dh\006\t*fiV\024hn\035\021uQ\026\004s\016\0343!m\006dW/\032\021b]\022\004\023N\032\021ji\002:\030m\035\021ge>l\007\005\0365fAA\fG.\032;uK\002JGo\035\021qC2,G\017^3!S:$W\r\037\030\t\017\r}\001\001\"\001\004\"\005iq-\032;G_J,wM]8v]\022$b!!\007\004$\r\025\002\002CAx\007;\001\r!!=\t\021\tM1Q\004a\001\005+ACb!\b\003\036\t\r\"Q\005B\024\007S\t#aa\013\002Q\032,hn\031;j_:D\023F\0178v[\n,'\017\f\021c_>dW-\0318![5\002s)\032;!i\",\007eY;se\026tG\017\t4pe\026<'o\\;oI\002\032w\016\\8sA\005tG\rI<iKRDWM\035\021ji\036\032\bE\032:p[\002\"\b.\032\021qC2,G\017^3!_J\004cn\034;/\021\035\031y\003\001C\001\007c\tQb]3u\r>\024Xm\032:pk:$GCBA\r\007g\031)\004\003\005\002p\0165\002\031AAy\021!\021\031b!\fA\002\tU\001\006DB\027\005;\021\031C!\n\003(\re\022EAB\036\003\005Eg-\0368di&|g\016\013<bYV,'H\\;nE\026\0248\f\f\021qC2,G\017^3;E>|G.Z1o;&Rd.^7cKJd\003E\\;nE\026\024\be\034:!]&d\007%L\027!'\026$8\017\t;iK\0022wN]3he>,h\016\032\021d_2|'\017\t;pAQDW\rI:qK\016Lg-[3eAY\fG.^3/A=\003H/[8oC2d\027\020\t;bW\026\034\b%\0318!Kb\004H.[2ji\002\002\030\r\\3ui\026\004\023N\0343fq:\002#+\032;ve:\034\b\005\0365fA=dG\r\t<bYV,\007%\0318eA%4\007%\033;!o\006\034\bE\032:p[\002\"\b.\032\021qC2,G\017^3!SR\034\b\005]1mKR$X\rI5oI\026Dh\006C\004\004@\001!\ta!\021\002\037\035,G\017U1mKR$XmQ8m_J$b!!\007\004D\r\025\003\002CAx\007{\001\r!!=\t\021\tM1Q\ba\001\005+ACb!\020\003\036\t\r\"Q\005B\024\007\023\n#aa\023\002-\032,hn\031;j_:D\023N\0343fqjrW/\0342fe&Rd.^7cKJ\004S&\f\021HKR\004C\017[3!a\006dW\r\036;fA\r|Gn\034:!CR\004C\017[3!gB,7-\0334jK\022\004\003/\0317fiR,\007%\0338eKbt\003bBB(\001\021\0051\021K\001\020g\026$\b+\0317fiR,7i\0347peR1\021\021DB*\007+B\001\"a<\004N\001\007\021\021\037\005\t\005'\031i\0051\001\003\026!b1Q\nB\017\005G\021)Ca\n\004Z\005\02211L\001\002\002\031,hn\031;j_:D\023N\0343fqjrW/\0342fe2\0023m\0347pejrW/\0342fe&Rd.^7cKJ\004S&\f\021TKR\004C\017[3!a\006dW\r\036;fA\r|Gn\034:!CR\004C\017[3!gB,7-\0334jK\022\004\003/\0317fiR,\007%\0338eKbt\003EU3ukJt7\017\t;iK\002\002(/\032<j_V\034\bE^1mk\026t\003bBB0\001\021\0051\021M\001\tO\026$H)\0329uQR1\021\021DB2\007KB\001\"a<\004^\001\007\021\021\037\005\t\005'\031i\0061\001\003\026!b1Q\fB\017\005G\021)Ca\n\004j\005\02211N\001<MVt7\r^5p]\"J#H\\;nE\026\024\b%L\027!%\026$XO\0358tAQDW\rI2veJ,g\016\0367zAM,G\017I2pY>\024\b\005Z3qi\"t\003bBB8\001\021\0051\021O\001\tg\026$H)\0329uQR1\021\021DB:\007kB\001\"a<\004n\001\007\021\021\037\005\t\005'\031i\0071\001\003\026!B1Q\016B\017\005O\031I(\t\002\004|\005\tf-\0368di&|g\016\0133faRD'H\\;nE\026\024\030F\0178v[\n,'\017I\027.AM+G\017\t;iK\002\032w\016\\8sA\021,\007\017\0365/AI+G/\036:og\002\"\b.\032\021qe\0264\030n\\;tAY\fG.^3/\021\031Q\005\001\"\001\004\000Q1\021\021DBA\007\007C\001\"a<\004~\001\007\021\021\037\005\t\005'\031i\b1\001\003\026!b1Q\020B\017\005G\021)Ca\n\004\b\006\0221\021R\001<MVt7\r^5p]\"J#H\\;nE\026\024\b%L\027!\017\026$\b\005\0365fA5\f\0070[7v[\002\032X\017\0359peR,G\rI2pY>\024\b\005Z3qi\"t\003bBBG\001\021\0051qR\001\016O\026$(+Z:pYV$\030n\0348\025\r\005e1\021SBJ\021!\tyoa#A\002\005E\b\002\003B\n\007\027\003\rA!\006)\031\r-%Q\004B\022\005K\0219ca&\"\005\re\025a\0204v]\016$\030n\0348)SirW/\0342fe2\002c.^7cKJ\004S&\f\021HKR\004C\017[3!GV\024(/\0328uAM\034'/Z3oAI,7o\0347vi&|gN\f\005\b\007;\003A\021ABP\0035\031X\r\036*fg>dW\017^5p]R1\021\021DBQ\007GC\001\"a<\004\034\002\007\021\021\037\005\t\005'\031Y\n1\001\003\026!B11\024B\017\005O\0319+\t\002\004*\006\031h-\0368di&|g\016K<jIRD'H\\;nE\026\024H\006\t5fS\036DGO\0178v[\n,'/\013\036c_>dW-\0318![5\0023+\032;!i\",\007e]2sK\026t\007E]3t_2,H/[8o]\001\022V\r^;s]N\004CO];fA%4\007\005\0365fAI,7o\0347vi&|g\016I2iC:<W\r\032\030\t\r\t\003A\021ABW)\031\tIba,\0042\"A\021q^BV\001\004\t\t\020\003\005\003\024\r-\006\031\001B\013Q1\031YK!\b\003$\t\025\"qEB[C\t\0319,A gk:\034G/[8oQ%Rd.^7cKJd\003E\\;nE\026\024\b%L\027!\017\026$\b\005\0365fA5\f\0070[7v[\002\0328M]3f]\002\022Xm]8mkRLwN\034\030\t\017\rm\006\001\"\001\004>\006Yq-\032;WS\026<\bo\034:u)\031\tIba0\004B\"A\021q^B]\001\004\t\t\020\003\005\003\024\re\006\031\001B\013Q1\031IL!\b\003$\t\025\"qEBcC\t\0319-A!gk:\034G/[8oQ%Rd.^7cKJd\003E\\;nE\026\024\b%L\027!\017\026$\b\005\0365fA\r,(O]3oi\0022\030.Z<q_J$\bE]3t_2,H/[8o]!911\032\001\005\002\r5\027aC:fiZKWm\0369peR$b!!\007\004P\016E\007\002CAx\007\023\004\r!!=\t\021\tM1\021\032a\001\005+A\003b!3\003\036\t\0352Q[\021\003\007/\f\021Q\0074v]\016$\030n\0348)o&$G\017\033\036ok6\024WM\035\027!Q\026Lw\r\033;;]Vl'-\032:*u\t|w\016\\3b]\002jS\006I*fi\002\"\b.\032\021wS\026<\bo\034:uAI,7o\0347vi&|gN\f\021DC:tw\016\036\021fq\016,W\r\032\021uQ\026\0043o\031:fK:\004#/Z:pYV$\030n\0348/AI+G/\036:og\002\"(/^3!S\032\004C\017[3!e\026\034x\016\\;uS>t\007e\0315b]\036,GM\f\005\b\0077\004A\021ABo\003\r9W\r\036\013\007\0033\031yn!9\t\021\005=8\021\034a\001\003cD\001Ba\005\004Z\002\007!Q\003\025\r\0073\024iBa\t\003&\t\0352Q]\021\003\007O\f!\021\0234v]\016$\030n\0348)qjrW/\0342fe2\002\023P\0178v[\n,'/\013\036tiJLgn\032\027!]Vl'-\032:-A9,XNY3sY\001rW/\0342fe\002z'\017\t8jY2\002c.^7cKJ\004sN\035\021oS2\004S&\f\021HKR\004C\017[3!m\006dW/\032\021eSN\004H.Y=fI\002zg\016\t;iK\002\0328M]3f]\002\nG\017\t;iK\002\032\b/Z2jM&,G\rI5oI\026DH\006I1tA],G\016\034\021bg\002\"\b.\032\021g_J,wM]8v]\022\004\023M\0343!E\006\0347n\032:pk:$\007eY8m_Jt\003%\0234!i\",\007EZ8sK\036\024x.\0368eA=\024\bEY1dW\036\024x.\0368eA%\034\bE\032:p[\002\"\b.\032\021qC2,G\017^3-AI,G/\036:og\002\"\b.\032\021qC2,G\017^3!S:$\027nY3tA\005\034\bEZ8veRD\007%\0318eA\031Lg\r\0365!e\026\034X\017\034;tY\001*Gn]3!]&dG\006\t:fgB,7\r^5wK2Lh\006C\004\004l\002!\ta!<\002\007M,G\017\006\004\002\032\r=8\021\037\005\t\003_\034I\0171\001\002r\"A!1CBu\001\004\021)\002\013\007\004j\nu!1\005B\023\005O\031)0\t\002\004x\006\t\tGZ;oGRLwN\034\025yu9,XNY3sY\001J(H\\;nE\026\024H\006\t<bYV,'h\035;sS:<7\f\f\021wKJ$\030nY1mu\t|w\016\\3b]vK#HY8pY\026\fg\016I\027.AAcw\016^:!C\002\032HO]5oO\0022\030\r\\;fAQ|\007\005\0365fAM\034'/Z3oA\005$\b\005\0365fAM\004XmY5gS\026$\007\005]8tSRLwN\034\030!\037B$\030n\0348bY2L\be\036:ji\026\034\b\005\0365fAM$(/\0338hAY,'\017^5dC2d\027P\f\005\b\007w\004A\021AB\003\021\031w\016]=\025\r\005e1q C\001\021!\tyo!?A\002\005E\b\002\003B\n\007s\004\rA!\006)\031\re(Q\004B\022\005K\0219\003\"\002\"\005\021\035\021!a&gk:\034G/[8oQaTd.^7cKJd\003%\037\036ok6\024WM\035\027!o&$G\017\033\036ok6\024WM\035\027!Q\026Lw\r\033;;]Vl'-\032:-AQD(H\\;nE\026\024H\006\t;zu9,XNY3sSi\022wn\0347fC:\004S&\f\021D_BLWm\035\021bAA|'\017^5p]\002zg\r\t;iK\002\0328M]3f]\0022'o\\7!i\",\007e\0359fG&4\027.\0323!Y>\034\027\r^5p]\002:\030\016\0365!i\",\007e\0359fG&4\027.\0323!g&TX\r\t2zAQDW\rI:qK\016Lg-[3eAQ\024\030M\\:mCRLwN\034\030\t\017\021-\001\001\"\001\005\016\005!a-\0337m)\031\tI\002b\004\005\022!A\021q\036C\005\001\004\t\t\020\003\005\003\024\021%\001\031\001B\013Q1!IA!\b\003$\t\025\"q\005C\013C\t!9\"AA@MVt7\r^5p]\"B(H\\;nE\026\024H\006I=;]Vl'-\032:-A]LG\r\0365;]Vl'-\032:-A!,\027n\0325uu9,XNY3sY\001\032\007.\031:;gR\024\030N\\4*u\t|w\016\\3b]\002jS\006\t$jY2\034\b%\031\021q_J$\030n\0348!_\032\004C\017[3!g\016\024X-\0328!CR\004C\017[3!gB,7-\0334jK\022\004\003o\\:ji&|g\016I<ji\"\004C\017[3!gB,7-\0334jK\022\0043/\033>fA]LG\017\033\021uQ\026\0043\017]3dS\032LW\r\032\021dQ\006\024\030m\031;fe:Bq\001b\007\001\t\023!i\"\001\007d_:\034X/\\3Q_^,'\017\006\004\002\f\022}A1\005\005\t\tC!I\0021\001\002B\005\ta\016\003\005\005&\021e\001\031AA!\003\021\031wn\035;\t\017\021%\002\001\"\021\005,\005IqN\\'fgN\fw-\032\013\004Y\0225\002\002\003C\030\tO\001\r\001\"\r\002\0175,7o]1hKB\031!\bb\r\n\007\021U2HA\004NKN\034\030mZ3\t\017\021e\002\001\"\021\005<\005IqN\\\"p]:,7\r\036\013\004Y\022u\002bB\034\0058\001\007Aq\b\t\004u\021\005\023b\001C\"w\t!aj\0343f\021\035!9\005\001C!\t\023\nAb\0348ESN\034wN\0348fGR$2\001\034C&\021\0359DQ\ta\001\tA\021\002b\024\001\005\004%I!!3\002\025M\033%+R#O?.+\025\fC\004\005T\001\001\013\021\0022\002\027M\033%+R#O?.+\025\f\t\005\n\t/\002!\031!C\005\003\023\f\001CQ+G\r\026\023v,\023(E\013b{6*R-\t\017\021m\003\001)A\005E\006\t\")\026$G\013J{\026J\024#F1~[U)\027\021\t\023\021}\003A1A\005\n\005%\027!\004,J\t\026{uLU!N?.+\025\fC\004\005d\001\001\013\021\0022\002\035YKE)R(`%\006kulS#ZA!IAq\r\001C\002\0235\021\021Z\001\n\035\n#v\fU!H\013NCq\001b\033\001A\0035!-\001\006O\005R{\006+Q$F'\002B\021\002b\034\001\005\004%i!!3\002\0319\023Ek\030)B\017\026{\026\n\022-\t\017\021M\004\001)A\007E\006iaJ\021+`!\006;UiX%E1\002B\021\002b\036\001\005\004%i!!3\002\0339\023Ek\030)B\017\026{F)\021+B\021\035!Y\b\001Q\001\016\t\faB\024\"U?B\013u)R0E\003R\013\005\005C\005\005\000\001\021\r\021\"\003\005\002\006Y1iT'Q\037VsEiX%E+\t!\031\tE\002*\t\013K1\001b\"+\005\021\021\025\020^3\t\021\021-\005\001)A\005\t\007\013AbQ(N!>+f\nR0J\t\002Bq\001b$\001\t\003\"\t*\001\003m_\006$Gc\0017\005\024\"AAQ\023CG\001\004!9*A\002oER\004B\001\"'\005&6\021A1\024\006\005\t+#iJ\003\003\005 \022\005\026!C7j]\026\034'/\0314u\025\t!\031+A\002oKRLA\001b*\005\034\nqaJ\021+UC\036\034u.\0349pk:$\007b\002CV\001\021\005CQV\001\005g\0064X\rF\002m\t_C\001\002\"&\005*\002\007Aq\023")
/*     */ public class GraphicsCard extends ManagedEnvironment implements DeviceInfo, VideoRamDevice {
/*     */   private final int tier;
/*     */   private final Connector node;
/*     */   private final Tuple2<Object, Object> li$cil$oc$server$component$GraphicsCard$$maxResolution;
/*     */   private final TextBuffer.ColorDepth li$cil$oc$server$component$GraphicsCard$$maxDepth;
/*     */   private Option<String> screenAddress;
/*     */   private Option<TextBuffer> screenInstance;
/*     */   private int li$cil$oc$server$component$GraphicsCard$$bufferIndex;
/*     */   private final double[] setBackgroundCosts;
/*     */   private final double[] setForegroundCosts;
/*     */   private final double[] setPaletteColorCosts;
/*     */   private final double[] setCosts;
/*     */   private final double[] copyCosts;
/*     */   private final double[] fillCosts;
/*     */   private final double bitbltCost;
/*     */   private final double totalVRAM;
/*     */   private boolean budgetExhausted;
/*     */   private Map<String, String> deviceInfo;
/*     */   private final String SCREEN_KEY;
/*     */   private final String BUFFER_INDEX_KEY;
/*     */   private final String VIDEO_RAM_KEY;
/*     */   private final String NBT_PAGES;
/*     */   private final String li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_IDX;
/*     */   private final String li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_DATA;
/*     */   private final byte COMPOUND_ID;
/*     */   private final HashMap<Object, GpuTextBuffer> li$cil$oc$common$component$traits$VideoRamDevice$$internalBuffers;
/*     */   private final int RESERVED_SCREEN_INDEX;
/*     */   private volatile boolean bitmap$0;
/*     */   
/*  32 */   public HashMap<Object, GpuTextBuffer> li$cil$oc$common$component$traits$VideoRamDevice$$internalBuffers() { return this.li$cil$oc$common$component$traits$VideoRamDevice$$internalBuffers; } public int RESERVED_SCREEN_INDEX() { return this.RESERVED_SCREEN_INDEX; } public void li$cil$oc$common$component$traits$VideoRamDevice$_setter_$li$cil$oc$common$component$traits$VideoRamDevice$$internalBuffers_$eq(HashMap<Object, GpuTextBuffer> x$1) { this.li$cil$oc$common$component$traits$VideoRamDevice$$internalBuffers = x$1; } public void li$cil$oc$common$component$traits$VideoRamDevice$_setter_$RESERVED_SCREEN_INDEX_$eq(int x$1) { this.RESERVED_SCREEN_INDEX = x$1; } public boolean isEmpty() { return VideoRamDevice.class.isEmpty(this); } public int[] bufferIndexes() { return VideoRamDevice.class.bufferIndexes(this); } public boolean addBuffer(GpuTextBuffer ram) { return VideoRamDevice.class.addBuffer(this, ram); } public int removeBuffers(int[] ids) { return VideoRamDevice.class.removeBuffers(this, ids); } public int removeAllBuffers() { return VideoRamDevice.class.removeAllBuffers(this); } public void loadBuffer(String address, int id, NBTTagCompound nbt) { VideoRamDevice.class.loadBuffer(this, address, id, nbt); } public Option<GpuTextBuffer> getBuffer(int id) { return VideoRamDevice.class.getBuffer(this, id); } public int nextAvailableBufferIndex() { return VideoRamDevice.class.nextAvailableBufferIndex(this); } public int calculateUsedMemory() { return VideoRamDevice.class.calculateUsedMemory(this); } public int tier() { return this.tier; } public GraphicsCard(int tier) { VideoRamDevice.class.$init$(this);
/*  33 */     this.node = (Connector)Network.newNode((Environment)this, Visibility.Neighbors)
/*  34 */       .withComponent("gpu")
/*  35 */       .withConnector()
/*  36 */       .create();
/*     */     
/*  38 */     this.li$cil$oc$server$component$GraphicsCard$$maxResolution = Settings$.MODULE$.screenResolutionsByTier()[tier];
/*     */     
/*  40 */     this.li$cil$oc$server$component$GraphicsCard$$maxDepth = Settings$.MODULE$.screenDepthsByTier()[tier];
/*     */     
/*  42 */     this.screenAddress = (Option<String>)None$.MODULE$;
/*     */     
/*  44 */     this.screenInstance = (Option<TextBuffer>)None$.MODULE$;
/*     */     
/*  46 */     this.li$cil$oc$server$component$GraphicsCard$$bufferIndex = RESERVED_SCREEN_INDEX();
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */     
/*  64 */     this.setBackgroundCosts = new double[] { 0.03125D, 0.015625D, 0.0078125D };
/*  65 */     this.setForegroundCosts = new double[] { 0.03125D, 0.015625D, 0.0078125D };
/*  66 */     this.setPaletteColorCosts = new double[] { 0.5D, 0.125D, 0.0625D };
/*  67 */     this.setCosts = new double[] { 0.015625D, 0.0078125D, 0.00390625D };
/*  68 */     this.copyCosts = new double[] { 0.0625D, 0.03125D, 0.015625D };
/*  69 */     this.fillCosts = new double[] { 0.03125D, 0.015625D, 0.0078125D };
/*     */ 
/*     */ 
/*     */     
/*  73 */     this.bitbltCost = Settings$.MODULE$.get().bitbltCost() * package$.MODULE$.pow(2.0D, tier);
/*  74 */     this.totalVRAM = (li$cil$oc$server$component$GraphicsCard$$maxResolution()._1$mcI$sp() * li$cil$oc$server$component$GraphicsCard$$maxResolution()._2$mcI$sp()) * Settings$.MODULE$.get().vramSizes()[RichInt$.MODULE$.min$extension(Predef$.MODULE$.intWrapper(RichInt$.MODULE$.max$extension(Predef$.MODULE$.intWrapper(0), tier)), 2)];
/*     */     
/*  76 */     this.budgetExhausted = false;
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */     
/* 610 */     this.SCREEN_KEY = "screen";
/* 611 */     this.BUFFER_INDEX_KEY = "bufferIndex";
/* 612 */     this.VIDEO_RAM_KEY = "videoRam";
/* 613 */     this.NBT_PAGES = "pages";
/* 614 */     this.li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_IDX = "page_idx";
/* 615 */     this.li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_DATA = "page_data";
/* 616 */     this.COMPOUND_ID = (new NBTTagCompound()).func_74732_a(); } public Connector node() { return this.node; } public Tuple2<Object, Object> li$cil$oc$server$component$GraphicsCard$$maxResolution() { return this.li$cil$oc$server$component$GraphicsCard$$maxResolution; } public TextBuffer.ColorDepth li$cil$oc$server$component$GraphicsCard$$maxDepth() { return this.li$cil$oc$server$component$GraphicsCard$$maxDepth; } private Option<String> screenAddress() { return this.screenAddress; } private void screenAddress_$eq(Option<String> x$1) { this.screenAddress = x$1; } private Option<TextBuffer> screenInstance() { return this.screenInstance; } private void screenInstance_$eq(Option<TextBuffer> x$1) { this.screenInstance = x$1; } public int li$cil$oc$server$component$GraphicsCard$$bufferIndex() { return this.li$cil$oc$server$component$GraphicsCard$$bufferIndex; } private void li$cil$oc$server$component$GraphicsCard$$bufferIndex_$eq(int x$1) { this.li$cil$oc$server$component$GraphicsCard$$bufferIndex = x$1; } public Object[] li$cil$oc$server$component$GraphicsCard$$screen(int index, Function1 f) { // Byte code:
/*     */     //   0: iload_1
/*     */     //   1: aload_0
/*     */     //   2: invokevirtual RESERVED_SCREEN_INDEX : ()I
/*     */     //   5: if_icmpne -> 91
/*     */     //   8: aload_0
/*     */     //   9: invokespecial screenInstance : ()Lscala/Option;
/*     */     //   12: astore_3
/*     */     //   13: aload_3
/*     */     //   14: instanceof scala/Some
/*     */     //   17: ifeq -> 65
/*     */     //   20: aload_3
/*     */     //   21: checkcast scala/Some
/*     */     //   24: astore #4
/*     */     //   26: aload #4
/*     */     //   28: invokevirtual x : ()Ljava/lang/Object;
/*     */     //   31: checkcast li/cil/oc/api/internal/TextBuffer
/*     */     //   34: astore #5
/*     */     //   36: aload #5
/*     */     //   38: dup
/*     */     //   39: astore #7
/*     */     //   41: monitorenter
/*     */     //   42: aload_2
/*     */     //   43: aload #5
/*     */     //   45: invokeinterface apply : (Ljava/lang/Object;)Ljava/lang/Object;
/*     */     //   50: astore #8
/*     */     //   52: aload #7
/*     */     //   54: monitorexit
/*     */     //   55: aload #8
/*     */     //   57: checkcast [Ljava/lang/Object;
/*     */     //   60: astore #6
/*     */     //   62: goto -> 86
/*     */     //   65: iconst_2
/*     */     //   66: anewarray java/lang/Object
/*     */     //   69: dup
/*     */     //   70: iconst_0
/*     */     //   71: getstatic scala/Unit$.MODULE$ : Lscala/Unit$;
/*     */     //   74: aastore
/*     */     //   75: dup
/*     */     //   76: iconst_1
/*     */     //   77: ldc_w 'no screen'
/*     */     //   80: aastore
/*     */     //   81: checkcast [Ljava/lang/Object;
/*     */     //   84: astore #6
/*     */     //   86: aload #6
/*     */     //   88: goto -> 171
/*     */     //   91: aload_0
/*     */     //   92: iload_1
/*     */     //   93: invokevirtual getBuffer : (I)Lscala/Option;
/*     */     //   96: astore #9
/*     */     //   98: aload #9
/*     */     //   100: instanceof scala/Some
/*     */     //   103: ifeq -> 148
/*     */     //   106: aload #9
/*     */     //   108: checkcast scala/Some
/*     */     //   111: astore #10
/*     */     //   113: aload #10
/*     */     //   115: invokevirtual x : ()Ljava/lang/Object;
/*     */     //   118: checkcast li/cil/oc/common/component/GpuTextBuffer
/*     */     //   121: astore #11
/*     */     //   123: aload #11
/*     */     //   125: ifnull -> 148
/*     */     //   128: aload #11
/*     */     //   130: astore #12
/*     */     //   132: aload_2
/*     */     //   133: aload #12
/*     */     //   135: invokeinterface apply : (Ljava/lang/Object;)Ljava/lang/Object;
/*     */     //   140: checkcast [Ljava/lang/Object;
/*     */     //   143: astore #13
/*     */     //   145: goto -> 169
/*     */     //   148: iconst_2
/*     */     //   149: anewarray java/lang/Object
/*     */     //   152: dup
/*     */     //   153: iconst_0
/*     */     //   154: getstatic scala/Unit$.MODULE$ : Lscala/Unit$;
/*     */     //   157: aastore
/*     */     //   158: dup
/*     */     //   159: iconst_1
/*     */     //   160: ldc_w 'invalid buffer index'
/*     */     //   163: aastore
/*     */     //   164: checkcast [Ljava/lang/Object;
/*     */     //   167: astore #13
/*     */     //   169: aload #13
/*     */     //   171: areturn
/*     */     //   172: aload #7
/*     */     //   174: monitorexit
/*     */     //   175: athrow
/*     */     // Line number table:
/*     */     //   Java source line number -> byte code offset
/*     */     //   #49	-> 0
/*     */     //   #50	-> 8
/*     */     //   #51	-> 13
/*     */     //   #52	-> 65
/*     */     //   #50	-> 86
/*     */     //   #55	-> 91
/*     */     //   #56	-> 98
/*     */     //   #57	-> 148
/*     */     //   #55	-> 169
/*     */     //   #49	-> 171
/*     */     //   #51	-> 172
/*     */     // Local variable table:
/*     */     //   start	length	slot	name	descriptor
/*     */     //   0	176	0	this	Lli/cil/oc/server/component/GraphicsCard;
/*     */     //   0	176	1	index	I
/*     */     //   0	176	2	f	Lscala/Function1;
/*     */     //   36	140	5	screen	Lli/cil/oc/api/internal/TextBuffer;
/*     */     //   123	53	11	buffer	Lli/cil/oc/common/component/GpuTextBuffer;
/*     */     // Exception table:
/*     */     //   from	to	target	type
/* 616 */     //   42	55	172	finally } private Object[] screen(Function1<TextBuffer, Object[]> f) { return li$cil$oc$server$component$GraphicsCard$$screen(li$cil$oc$server$component$GraphicsCard$$bufferIndex(), f); } public final double[] setBackgroundCosts() { return this.setBackgroundCosts; } public final double[] setForegroundCosts() { return this.setForegroundCosts; } public final double[] setPaletteColorCosts() { return this.setPaletteColorCosts; } public final double[] setCosts() { return this.setCosts; } public final double[] copyCosts() { return this.copyCosts; } public final double[] fillCosts() { return this.fillCosts; } public final double bitbltCost() { return this.bitbltCost; } public final double totalVRAM() { return this.totalVRAM; } public boolean budgetExhausted() { return this.budgetExhausted; } public void budgetExhausted_$eq(boolean x$1) { this.budgetExhausted = x$1; } private Map deviceInfo$lzycompute() { synchronized (this) { if (!this.bitmap$0) { (new Tuple2[7])[0] = Predef$ArrowAssoc$.MODULE$.$minus$greater$extension(Predef$.MODULE$.ArrowAssoc("class"), "display"); (new Tuple2[7])[1] = Predef$ArrowAssoc$.MODULE$.$minus$greater$extension(Predef$.MODULE$.ArrowAssoc("description"), "Graphics controller"); (new Tuple2[7])[2] = Predef$ArrowAssoc$.MODULE$.$minus$greater$extension(Predef$.MODULE$.ArrowAssoc("vendor"), "MightyPirates GmbH & Co. KG"); (new Tuple2[7])[3] = Predef$ArrowAssoc$.MODULE$.$minus$greater$extension(Predef$.MODULE$.ArrowAssoc("product"), (new StringBuilder()).append("MPG").append(BoxesRunTime.boxToInteger((tier() + 1) * 1000).toString()).append(" GTZ").toString()); (new Tuple2[7])[4] = Predef$ArrowAssoc$.MODULE$.$minus$greater$extension(Predef$.MODULE$.ArrowAssoc("capacity"), capacityInfo()); (new Tuple2[7])[5] = Predef$ArrowAssoc$.MODULE$.$minus$greater$extension(Predef$.MODULE$.ArrowAssoc("width"), widthInfo()); (new Tuple2[7])[6] = Predef$ArrowAssoc$.MODULE$.$minus$greater$extension(Predef$.MODULE$.ArrowAssoc("clock"), clockInfo()); this.deviceInfo = (Map<String, String>)Predef$.MODULE$.Map().apply((Seq)Predef$.MODULE$.wrapRefArray((Object[])new Tuple2[7])); this.bitmap$0 = true; }  return this.deviceInfo; }  } private final Map<String, String> deviceInfo() { return this.bitmap$0 ? this.deviceInfo : deviceInfo$lzycompute(); } public String capacityInfo() { return BoxesRunTime.boxToInteger(li$cil$oc$server$component$GraphicsCard$$maxResolution()._1$mcI$sp() * li$cil$oc$server$component$GraphicsCard$$maxResolution()._2$mcI$sp()).toString(); } public String widthInfo() { (new String[3])[0] = "1"; (new String[3])[1] = "4"; (new String[3])[2] = "8"; return ((String[])new String[3])[li$cil$oc$server$component$GraphicsCard$$maxDepth().ordinal()]; } public String clockInfo() { return (new StringBuilder()).append(BoxesRunTime.boxToInteger((int)('ߐ' / setBackgroundCosts()[tier()]) / 100).toString()).append("/").append(BoxesRunTime.boxToInteger((int)('ߐ' / setForegroundCosts()[tier()]) / 100).toString()).append("/").append(BoxesRunTime.boxToInteger((int)('ߐ' / setPaletteColorCosts()[tier()]) / 100).toString()).append("/").append(BoxesRunTime.boxToInteger((int)('ߐ' / setCosts()[tier()]) / 100).toString()).append("/").append(BoxesRunTime.boxToInteger((int)('ߐ' / copyCosts()[tier()]) / 100).toString()).append("/").append(BoxesRunTime.boxToInteger((int)('ߐ' / fillCosts()[tier()]) / 100).toString()).toString(); } public Map<String, String> getDeviceInfo() { return WrapAsJava$.MODULE$.mapAsJavaMap((Map)deviceInfo()); } public boolean li$cil$oc$server$component$GraphicsCard$$resolveInvokeCosts(int idx, Context context, double budgetCost, int units, double factor) { boolean bool; int i = idx; if (RESERVED_SCREEN_INDEX() == i) { context.consumeCallBudget(budgetCost); bool = consumePower(units, factor); } else { bool = true; }  return bool; } @Callback(direct = true, doc = "function(): number -- returns the index of the currently selected buffer. 0 is reserved for the screen. Can return 0 even when there is no screen") public Object[] getActiveBuffer(Context context, Arguments args) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(li$cil$oc$server$component$GraphicsCard$$bufferIndex()) })); } @Callback(direct = true, doc = "function(index: number): number -- Sets the active buffer to `index`. 1 is the first vram buffer and 0 is reserved for the screen. returns nil for invalid index (0 is always valid)") public Object[] setActiveBuffer(Context context, Arguments args) { int previousIndex = li$cil$oc$server$component$GraphicsCard$$bufferIndex(); int newIndex = args.checkInteger(0); li$cil$oc$server$component$GraphicsCard$$bufferIndex_$eq(newIndex); (li$cil$oc$server$component$GraphicsCard$$bufferIndex() == RESERVED_SCREEN_INDEX()) ? screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$setActiveBuffer$1(this)) : BoxedUnit.UNIT; return (newIndex != RESERVED_SCREEN_INDEX() && getBuffer(newIndex).isEmpty()) ? package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { Unit$.MODULE$, "invalid buffer index" })) : package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(previousIndex) })); } public final class GraphicsCard$$anonfun$setActiveBuffer$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable { public static final long serialVersionUID = 0L; public final Object[] apply(TextBuffer s) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(true) })); } public GraphicsCard$$anonfun$setActiveBuffer$1(GraphicsCard $outer) {} } @Callback(direct = true, doc = "function(): number -- Returns an array of indexes of the allocated buffers") public Object[] buffers(Context context, Arguments args) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { bufferIndexes() })); } @Callback(direct = true, doc = "function([width: number, height: number]): number -- allocates a new buffer with dimensions width*height (defaults to max resolution) and appends it to the buffer list. Returns the index of the new buffer and returns nil with an error message on failure. A buffer can be allocated even when there is no screen bound to this gpu. Index 0 is always reserved for the screen and thus the lowest index of an allocated buffer is always 1.") public Object[] allocateBuffer(Context context, Arguments args) { int width = args.optInteger(0, li$cil$oc$server$component$GraphicsCard$$maxResolution()._1$mcI$sp()); int height = args.optInteger(1, li$cil$oc$server$component$GraphicsCard$$maxResolution()._2$mcI$sp()); int size = width * height; PackedColor.ColorFormat format = PackedColor$Depth$.MODULE$.format(Settings$.MODULE$.screenDepthsByTier()[tier()]); TextBuffer buffer = new TextBuffer(width, height, format); GpuTextBuffer page = GpuTextBuffer$.MODULE$.wrap(node().address(), nextAvailableBufferIndex(), buffer); addBuffer(page); return (width <= 0 || height <= 0) ? package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { Unit$.MODULE$, "invalid page dimensions: must be greater than zero" })) : ((size > totalVRAM() - calculateUsedMemory()) ? package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { Unit$.MODULE$, "not enough video memory" })) : ((node() == null) ? package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { Unit$.MODULE$, "graphics card appears disconnected" })) : package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(page.id()) })))); } public void onBufferRamDestroy(int id) { (id != RESERVED_SCREEN_INDEX()) ? li$cil$oc$server$component$GraphicsCard$$screen(RESERVED_SCREEN_INDEX(), (Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$onBufferRamDestroy$1(this, id)) : BoxedUnit.UNIT; if (id == li$cil$oc$server$component$GraphicsCard$$bufferIndex()) li$cil$oc$server$component$GraphicsCard$$bufferIndex_$eq(RESERVED_SCREEN_INDEX());  } public final class GraphicsCard$$anonfun$onBufferRamDestroy$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable { public static final long serialVersionUID = 0L; private final int id$1; public final Object[] apply(TextBuffer s) { Object[] arrayOfObject; TextBuffer textBuffer = s; if (textBuffer instanceof VideoRamRasterizer) { TextBuffer textBuffer1 = textBuffer; arrayOfObject = package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(((VideoRamRasterizer)textBuffer1).removeBuffer(this.$outer.node().address(), this.id$1)) })); } else { arrayOfObject = package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(true) })); }  return arrayOfObject; } public GraphicsCard$$anonfun$onBufferRamDestroy$1(GraphicsCard $outer, int id$1) {} } @Callback(direct = true, doc = "function(index: number): boolean -- Closes buffer at `index`. Returns true if a buffer closed. If the current buffer is closed, index moves to 0") public Object[] freeBuffer(Context context, Arguments args) { int index = args.optInteger(0, li$cil$oc$server$component$GraphicsCard$$bufferIndex()); return (removeBuffers(new int[] { index }) == 1) ? package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(true) })) : package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { Unit$.MODULE$, "no buffer at index" })); } @Callback(direct = true, doc = "function(): number -- Closes all buffers and returns the count. If the active buffer is closed, index moves to 0") public Object[] freeAllBuffers(Context context, Arguments args) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(removeAllBuffers()) })); } @Callback(direct = true, doc = "function(): number -- returns the total memory size of the gpu vram. This does not include the screen.") public Object[] totalMemory(Context context, Arguments args) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToDouble(totalVRAM()) })); } @Callback(direct = true, doc = "function(): number -- returns the total free memory not allocated to buffers. This does not include the screen.") public Object[] freeMemory(Context context, Arguments args) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToDouble(totalVRAM() - calculateUsedMemory()) })); } @Callback(direct = true, doc = "function(index: number): number, number -- returns the buffer size at index. Returns the screen resolution for index 0. returns nil for invalid indexes") public Object[] getBufferSize(Context context, Arguments args) { int idx = args.optInteger(0, li$cil$oc$server$component$GraphicsCard$$bufferIndex()); return li$cil$oc$server$component$GraphicsCard$$screen(idx, (Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$getBufferSize$1(this)); } public final class GraphicsCard$$anonfun$getBufferSize$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable { public static final long serialVersionUID = 0L; public final Object[] apply(TextBuffer s) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(s.getWidth()), BoxesRunTime.boxToInteger(s.getHeight()) })); } public GraphicsCard$$anonfun$getBufferSize$1(GraphicsCard $outer) {} } public double li$cil$oc$server$component$GraphicsCard$$determineBitbltBudgetCost(TextBuffer dst, TextBuffer src) { double d; TextBuffer textBuffer = src; if (textBuffer instanceof GpuTextBuffer) { double d1; GpuTextBuffer gpuTextBuffer = (GpuTextBuffer)textBuffer; TextBuffer textBuffer1 = dst; if (textBuffer1 instanceof GpuTextBuffer) { d1 = 0.0D; } else if (gpuTextBuffer.dirty()) { d1 = bitbltCost() * (src.getWidth() * src.getHeight()) / (li$cil$oc$server$component$GraphicsCard$$maxResolution()._1$mcI$sp() * li$cil$oc$server$component$GraphicsCard$$maxResolution()._2$mcI$sp()); } else { d1 = 0.001D; }  d = d1; } else { d = 0.0D; }  return d; } public double li$cil$oc$server$component$GraphicsCard$$determineBitbltEnergyCost(TextBuffer dst) { double d; TextBuffer textBuffer = dst; if (textBuffer instanceof GpuTextBuffer) { d = 0.0D; } else { d = Settings$.MODULE$.get().gpuCopyCost() / 15; }  return d; } @Callback(direct = true, doc = "function([dst: number, col: number, row: number, width: number, height: number, src: number, fromCol: number, fromRow: number]):boolean -- bitblt from buffer to screen. All parameters are optional. Writes to `dst` page in rectangle `x, y, width, height`, defaults to the bound screen and its viewport. Reads data from `src` page at `fx, fy`, default is the active page from position 1, 1") public Object[] bitblt(Context context, Arguments args) { int dstIdx = args.optInteger(0, RESERVED_SCREEN_INDEX()); return li$cil$oc$server$component$GraphicsCard$$screen(dstIdx, (Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$bitblt$1(this, context, args, dstIdx)); } public final class GraphicsCard$$anonfun$bitblt$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable { public static final long serialVersionUID = 0L; public final Context context$1; public final Arguments args$1; public final int dstIdx$1; public GraphicsCard$$anonfun$bitblt$1(GraphicsCard $outer, Context context$1, Arguments args$1, int dstIdx$1) {} public final Object[] apply(TextBuffer dst) { int col = this.args$1.optInteger(1, 1); int row = this.args$1.optInteger(2, 1); int w = this.args$1.optInteger(3, dst.getWidth()); int h = this.args$1.optInteger(4, dst.getHeight()); int srcIdx = this.args$1.optInteger(5, this.$outer.li$cil$oc$server$component$GraphicsCard$$bufferIndex()); return this.$outer.li$cil$oc$server$component$GraphicsCard$$screen(srcIdx, (Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$bitblt$1$$anonfun$apply$1(this, col, row, w, h, srcIdx, dst)); } public final class GraphicsCard$$anonfun$bitblt$1$$anonfun$apply$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable { public static final long serialVersionUID = 0L; private final int col$1; private final int row$1; private final int w$1; private final int h$1; private final int srcIdx$1; private final TextBuffer dst$1; public GraphicsCard$$anonfun$bitblt$1$$anonfun$apply$1(GraphicsCard$$anonfun$bitblt$1 $outer, int col$1, int row$1, int w$1, int h$1, int srcIdx$1, TextBuffer dst$1) {} public final Object[] apply(TextBuffer src) { int fromCol = this.$outer.args$1.optInteger(6, 1); int fromRow = this.$outer.args$1.optInteger(7, 1); double budgetCost = this.$outer.li$cil$oc$server$component$GraphicsCard$$anonfun$$$outer().li$cil$oc$server$component$GraphicsCard$$determineBitbltBudgetCost(this.dst$1, src); double energyCost = this.$outer.li$cil$oc$server$component$GraphicsCard$$anonfun$$$outer().li$cil$oc$server$component$GraphicsCard$$determineBitbltEnergyCost(this.dst$1); double tierCredit = (this.$outer.li$cil$oc$server$component$GraphicsCard$$anonfun$$$outer().tier() + 1) * 0.5D; double overBudget = budgetCost - tierCredit; if (overBudget > false) if (this.$outer.li$cil$oc$server$component$GraphicsCard$$anonfun$$$outer().budgetExhausted()) { double pauseNeeded = overBudget - tierCredit; double seconds = pauseNeeded / tierCredit / 20; (overBudget > tierCredit) ? BoxesRunTime.boxToBoolean(this.$outer.context$1.pause(seconds)) : BoxedUnit.UNIT; budgetCost = 0.0D; } else { this.$outer.li$cil$oc$server$component$GraphicsCard$$anonfun$$$outer().budgetExhausted_$eq(true); throw new LimitReachedException(); }   this.$outer.li$cil$oc$server$component$GraphicsCard$$anonfun$$$outer().budgetExhausted_$eq(false); int tx = this.col$1 - fromCol; int ty = this.row$1 - fromRow; this.dst$1.copy(fromCol - 1, fromRow - 1, this.w$1, this.h$1, tx, ty); GpuTextBuffer$.MODULE$.bitblt(this.dst$1, this.col$1, this.row$1, this.w$1, this.h$1, src, fromCol, fromRow); return this.$outer.li$cil$oc$server$component$GraphicsCard$$anonfun$$$outer().li$cil$oc$server$component$GraphicsCard$$resolveInvokeCosts(this.$outer.dstIdx$1, this.$outer.context$1, budgetCost, this.w$1 * this.h$1, energyCost) ? ((this.$outer.dstIdx$1 == this.srcIdx$1) ? package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(true) })) : package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(true) }))) : package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { Unit$.MODULE$, "not enough energy" })); } } } @Callback(doc = "function(address:string[, reset:boolean=true]):boolean -- Binds the GPU to the screen with the specified address and resets screen settings if `reset` is true.") public Object[] bind(Context context, Arguments args) { Object[] arrayOfObject; String address = args.checkString(0); boolean reset = args.optBoolean(1, true); Node node = node().network().node(address); if (node == null) { arrayOfObject = package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { Unit$.MODULE$, "invalid address" })); } else { if (node != null) { Node node1 = node; if (node1.host() instanceof TextBuffer) { screenAddress_$eq(Option$.MODULE$.apply(address)); screenInstance_$eq((Option<TextBuffer>)new Some(node1.host())); return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$bind$1(this, context, reset)); }  }  arrayOfObject = package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { Unit$.MODULE$, "not a screen" })); }  return arrayOfObject; } public final class GraphicsCard$$anonfun$bind$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable { public static final long serialVersionUID = 0L; private final Context context$2; private final boolean reset$1; public GraphicsCard$$anonfun$bind$1(GraphicsCard $outer, Context context$2, boolean reset$1) {} public final Object[] apply(TextBuffer s) { if (this.reset$1) { Tuple2<Object, Object> tuple2 = this.$outer.li$cil$oc$server$component$GraphicsCard$$maxResolution(); if (tuple2 != null) { BoxedUnit boxedUnit; int gmw = tuple2._1$mcI$sp(), gmh = tuple2._2$mcI$sp(); Tuple2.mcII.sp sp2 = new Tuple2.mcII.sp(gmw, gmh), sp1 = sp2; int i = sp1._1$mcI$sp(), j = sp1._2$mcI$sp(); int smw = s.getMaximumWidth(); int smh = s.getMaximumHeight(); s.setResolution(package$.MODULE$.min(i, smw), package$.MODULE$.min(j, smh)); s.setColorDepth(TextBuffer.ColorDepth.values()[package$.MODULE$.min(this.$outer.li$cil$oc$server$component$GraphicsCard$$maxDepth().ordinal(), s.getMaximumColorDepth().ordinal())]); s.setForegroundColor(16777215); s.setBackgroundColor(0); TextBuffer textBuffer = s; if (textBuffer instanceof VideoRamRasterizer) { TextBuffer textBuffer1 = textBuffer; Integer integer = BoxesRunTime.boxToInteger(((VideoRamRasterizer)textBuffer1).removeAllBuffers()); } else { boxedUnit = BoxedUnit.UNIT; }  } else { throw new MatchError(tuple2); }  } else {  }  BoxesRunTime.boxToBoolean(this.context$2.pause(0.0D)); return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(true) })); } } @Callback(direct = true, doc = "function():string -- Get the address of the screen the GPU is currently bound to.") public Object[] getScreen(Context context, Arguments args) { return li$cil$oc$server$component$GraphicsCard$$screen(RESERVED_SCREEN_INDEX(), (Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$getScreen$1(this)); } public final class GraphicsCard$$anonfun$getScreen$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable { public static final long serialVersionUID = 0L; public final Object[] apply(TextBuffer s) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { s.node().address() })); } public GraphicsCard$$anonfun$getScreen$1(GraphicsCard $outer) {} } private byte COMPOUND_ID() { return this.COMPOUND_ID; } @Callback(direct = true, doc = "function():number, boolean -- Get the current background color and whether it's from the palette or not.") public Object[] getBackground(Context context, Arguments args) { return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$getBackground$1(this)); } public final class GraphicsCard$$anonfun$getBackground$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; public final Object[] apply(TextBuffer s) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(s.getBackgroundColor()), BoxesRunTime.boxToBoolean(s.isBackgroundFromPalette()) })); } public GraphicsCard$$anonfun$getBackground$1(GraphicsCard $outer) {} } @Callback(direct = true, doc = "function(value:number[, palette:boolean]):number, number or nil -- Sets the background color to the specified value. Optionally takes an explicit palette index. Returns the old value and if it was from the palette its palette index.") public Object[] setBackground(Context context, Arguments args) { int color = args.checkInteger(0); if (li$cil$oc$server$component$GraphicsCard$$bufferIndex() == RESERVED_SCREEN_INDEX()) context.consumeCallBudget(setBackgroundCosts()[tier()]);  return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$setBackground$1(this, args, color)); } public final class GraphicsCard$$anonfun$setBackground$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; private final Arguments args$2; private final int color$1; public GraphicsCard$$anonfun$setBackground$1(GraphicsCard $outer, Arguments args$2, int color$1) {} public final Object[] apply(TextBuffer s) { int oldValue = s.getBackgroundColor(); Tuple2 tuple2 = (Tuple2)(s.isBackgroundFromPalette() ? new Tuple2.mcII.sp(s.getPaletteColor(oldValue), oldValue) : new Tuple2(BoxesRunTime.boxToInteger(oldValue), Unit$.MODULE$)); if (tuple2 != null) { int oldColor = tuple2._1$mcI$sp(); Object oldIndex = tuple2._2(); Tuple2 tuple22 = new Tuple2(BoxesRunTime.boxToInteger(oldColor), oldIndex), tuple21 = tuple22; int i = tuple21._1$mcI$sp(); Object object1 = tuple21._2(); s.setBackgroundColor(this.color$1, this.args$2.optBoolean(1, false)); return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(i), object1 })); }  throw new MatchError(tuple2); } } @Callback(direct = true, doc = "function():number, boolean -- Get the current foreground color and whether it's from the palette or not.") public Object[] getForeground(Context context, Arguments args) { return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$getForeground$1(this)); } public final class GraphicsCard$$anonfun$getForeground$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; public final Object[] apply(TextBuffer s) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(s.getForegroundColor()), BoxesRunTime.boxToBoolean(s.isForegroundFromPalette()) })); } public GraphicsCard$$anonfun$getForeground$1(GraphicsCard $outer) {} } @Callback(direct = true, doc = "function(value:number[, palette:boolean]):number, number or nil -- Sets the foreground color to the specified value. Optionally takes an explicit palette index. Returns the old value and if it was from the palette its palette index.") public Object[] setForeground(Context context, Arguments args) { int color = args.checkInteger(0); if (li$cil$oc$server$component$GraphicsCard$$bufferIndex() == RESERVED_SCREEN_INDEX()) context.consumeCallBudget(setForegroundCosts()[tier()]);  return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$setForeground$1(this, args, color)); } public final class GraphicsCard$$anonfun$setForeground$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; private final Arguments args$3; private final int color$2; public GraphicsCard$$anonfun$setForeground$1(GraphicsCard $outer, Arguments args$3, int color$2) {} public final Object[] apply(TextBuffer s) { int oldValue = s.getForegroundColor(); Tuple2 tuple2 = (Tuple2)(s.isForegroundFromPalette() ? new Tuple2.mcII.sp(s.getPaletteColor(oldValue), oldValue) : new Tuple2(BoxesRunTime.boxToInteger(oldValue), Unit$.MODULE$)); if (tuple2 != null) { int oldColor = tuple2._1$mcI$sp(); Object oldIndex = tuple2._2(); Tuple2 tuple22 = new Tuple2(BoxesRunTime.boxToInteger(oldColor), oldIndex), tuple21 = tuple22; int i = tuple21._1$mcI$sp(); Object object1 = tuple21._2(); s.setForegroundColor(this.color$2, this.args$3.optBoolean(1, false)); return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(i), object1 })); }  throw new MatchError(tuple2); } } @Callback(direct = true, doc = "function(index:number):number -- Get the palette color at the specified palette index.") public Object[] getPaletteColor(Context context, Arguments args) { int index = args.checkInteger(0); return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$getPaletteColor$1(this, index)); } public final class GraphicsCard$$anonfun$getPaletteColor$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; private final int index$1; public final Object[] apply(TextBuffer s) { try { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(s.getPaletteColor(this.index$1)) })); } catch (ArrayIndexOutOfBoundsException arrayIndexOutOfBoundsException) { throw new IllegalArgumentException("invalid palette index"); }  } public GraphicsCard$$anonfun$getPaletteColor$1(GraphicsCard $outer, int index$1) {} } @Callback(direct = true, doc = "function(index:number, color:number):number -- Set the palette color at the specified palette index. Returns the previous value.") public Object[] setPaletteColor(Context context, Arguments args) { int index = args.checkInteger(0); int color = args.checkInteger(1); context.consumeCallBudget(setPaletteColorCosts()[tier()]); (li$cil$oc$server$component$GraphicsCard$$bufferIndex() == RESERVED_SCREEN_INDEX()) ? BoxesRunTime.boxToBoolean(context.pause(0.1D)) : BoxedUnit.UNIT; return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$setPaletteColor$1(this, index, color)); } public final class GraphicsCard$$anonfun$setPaletteColor$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; private final int index$2; private final int color$3; public GraphicsCard$$anonfun$setPaletteColor$1(GraphicsCard $outer, int index$2, int color$3) {} public final Object[] apply(TextBuffer s) { try { int oldColor = s.getPaletteColor(this.index$2); s.setPaletteColor(this.index$2, this.color$3); return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(oldColor) })); } catch (ArrayIndexOutOfBoundsException arrayIndexOutOfBoundsException) { throw new IllegalArgumentException("invalid palette index"); }  } } @Callback(direct = true, doc = "function():number -- Returns the currently set color depth.") public Object[] getDepth(Context context, Arguments args) { return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$getDepth$1(this)); } public final class GraphicsCard$$anonfun$getDepth$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; public final Object[] apply(TextBuffer s) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(PackedColor$Depth$.MODULE$.bits(s.getColorDepth())) })); } public GraphicsCard$$anonfun$getDepth$1(GraphicsCard $outer) {} } @Callback(doc = "function(depth:number):number -- Set the color depth. Returns the previous value.") public Object[] setDepth(Context context, Arguments args) { int depth = args.checkInteger(0); return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$setDepth$1(this, depth)); } public final class GraphicsCard$$anonfun$setDepth$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; private final int depth$1; public GraphicsCard$$anonfun$setDepth$1(GraphicsCard $outer, int depth$1) {} public final Object[] apply(TextBuffer s) { // Byte code:
/*     */       //   0: aload_1
/*     */       //   1: invokeinterface getColorDepth : ()Lli/cil/oc/api/internal/TextBuffer$ColorDepth;
/*     */       //   6: astore_2
/*     */       //   7: aload_0
/*     */       //   8: getfield depth$1 : I
/*     */       //   11: istore_3
/*     */       //   12: iload_3
/*     */       //   13: lookupswitch default -> 110, 1 -> 120, 4 -> 79, 8 -> 48
/*     */       //   48: aload_0
/*     */       //   49: getfield $outer : Lli/cil/oc/server/component/GraphicsCard;
/*     */       //   52: invokevirtual li$cil$oc$server$component$GraphicsCard$$maxDepth : ()Lli/cil/oc/api/internal/TextBuffer$ColorDepth;
/*     */       //   55: invokevirtual ordinal : ()I
/*     */       //   58: getstatic li/cil/oc/api/internal/TextBuffer$ColorDepth.EightBit : Lli/cil/oc/api/internal/TextBuffer$ColorDepth;
/*     */       //   61: invokevirtual ordinal : ()I
/*     */       //   64: if_icmplt -> 110
/*     */       //   67: aload_1
/*     */       //   68: getstatic li/cil/oc/api/internal/TextBuffer$ColorDepth.EightBit : Lli/cil/oc/api/internal/TextBuffer$ColorDepth;
/*     */       //   71: invokeinterface setColorDepth : (Lli/cil/oc/api/internal/TextBuffer$ColorDepth;)Z
/*     */       //   76: goto -> 129
/*     */       //   79: aload_0
/*     */       //   80: getfield $outer : Lli/cil/oc/server/component/GraphicsCard;
/*     */       //   83: invokevirtual li$cil$oc$server$component$GraphicsCard$$maxDepth : ()Lli/cil/oc/api/internal/TextBuffer$ColorDepth;
/*     */       //   86: invokevirtual ordinal : ()I
/*     */       //   89: getstatic li/cil/oc/api/internal/TextBuffer$ColorDepth.FourBit : Lli/cil/oc/api/internal/TextBuffer$ColorDepth;
/*     */       //   92: invokevirtual ordinal : ()I
/*     */       //   95: if_icmplt -> 110
/*     */       //   98: aload_1
/*     */       //   99: getstatic li/cil/oc/api/internal/TextBuffer$ColorDepth.FourBit : Lli/cil/oc/api/internal/TextBuffer$ColorDepth;
/*     */       //   102: invokeinterface setColorDepth : (Lli/cil/oc/api/internal/TextBuffer$ColorDepth;)Z
/*     */       //   107: goto -> 129
/*     */       //   110: new java/lang/IllegalArgumentException
/*     */       //   113: dup
/*     */       //   114: ldc 'unsupported depth'
/*     */       //   116: invokespecial <init> : (Ljava/lang/String;)V
/*     */       //   119: athrow
/*     */       //   120: aload_1
/*     */       //   121: getstatic li/cil/oc/api/internal/TextBuffer$ColorDepth.OneBit : Lli/cil/oc/api/internal/TextBuffer$ColorDepth;
/*     */       //   124: invokeinterface setColorDepth : (Lli/cil/oc/api/internal/TextBuffer$ColorDepth;)Z
/*     */       //   129: pop
/*     */       //   130: getstatic li/cil/oc/server/component/package$.MODULE$ : Lli/cil/oc/server/component/package$;
/*     */       //   133: getstatic scala/Predef$.MODULE$ : Lscala/Predef$;
/*     */       //   136: iconst_1
/*     */       //   137: anewarray java/lang/Object
/*     */       //   140: dup
/*     */       //   141: iconst_0
/*     */       //   142: aload_2
/*     */       //   143: aastore
/*     */       //   144: invokevirtual genericWrapArray : (Ljava/lang/Object;)Lscala/collection/mutable/WrappedArray;
/*     */       //   147: invokevirtual result : (Lscala/collection/Seq;)[Ljava/lang/Object;
/*     */       //   150: areturn
/*     */       // Line number table:
/*     */       //   Java source line number -> byte code offset
/*     */       //   #384	-> 0
/*     */       //   #385	-> 7
/*     */       //   #388	-> 48
/*     */       //   #387	-> 79
/*     */       //   #389	-> 110
/*     */       //   #386	-> 120
/*     */       //   #391	-> 130
/*     */       // Local variable table:
/*     */       //   start	length	slot	name	descriptor
/*     */       //   0	151	0	this	Lli/cil/oc/server/component/GraphicsCard$$anonfun$setDepth$1;
/*     */       //   0	151	1	s	Lli/cil/oc/api/internal/TextBuffer;
/*     */       //   7	143	2	oldDepth	Lli/cil/oc/api/internal/TextBuffer$ColorDepth; } } @Callback(direct = true, doc = "function():number -- Get the maximum supported color depth.") public Object[] maxDepth(Context context, Arguments args) { return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$maxDepth$1(this)); } public final class GraphicsCard$$anonfun$maxDepth$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; public final Object[] apply(TextBuffer s) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(PackedColor$Depth$.MODULE$.bits(TextBuffer.ColorDepth.values()[package$.MODULE$.min(this.$outer.li$cil$oc$server$component$GraphicsCard$$maxDepth().ordinal(), s.getMaximumColorDepth().ordinal())])) })); } public GraphicsCard$$anonfun$maxDepth$1(GraphicsCard $outer) {} } @Callback(direct = true, doc = "function():number, number -- Get the current screen resolution.") public Object[] getResolution(Context context, Arguments args) { return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$getResolution$1(this)); } public final class GraphicsCard$$anonfun$getResolution$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; public final Object[] apply(TextBuffer s) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(s.getWidth()), BoxesRunTime.boxToInteger(s.getHeight()) })); } public GraphicsCard$$anonfun$getResolution$1(GraphicsCard $outer) {} } @Callback(doc = "function(width:number, height:number):boolean -- Set the screen resolution. Returns true if the resolution changed.") public Object[] setResolution(Context context, Arguments args) { int w = args.checkInteger(0); int h = args.checkInteger(1); Tuple2<Object, Object> tuple2 = li$cil$oc$server$component$GraphicsCard$$maxResolution(); if (tuple2 != null) { int mw = tuple2._1$mcI$sp(), mh = tuple2._2$mcI$sp(); Tuple2.mcII.sp sp2 = new Tuple2.mcII.sp(mw, mh), sp1 = sp2; int i = sp1._1$mcI$sp(), j = sp1._2$mcI$sp(); if (w < 1 || h < 1 || w > i || h > i || h * w > i * j) throw new IllegalArgumentException("unsupported resolution");  return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$setResolution$1(this, w, h)); }  throw new MatchError(tuple2); } public final class GraphicsCard$$anonfun$setResolution$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; private final int w$2; private final int h$2; public final Object[] apply(TextBuffer s) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(s.setResolution(this.w$2, this.h$2)) })); } public GraphicsCard$$anonfun$setResolution$1(GraphicsCard $outer, int w$2, int h$2) {} } @Callback(direct = true, doc = "function():number, number -- Get the maximum screen resolution.") public Object[] maxResolution(Context context, Arguments args) { return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$maxResolution$1(this)); } public final class GraphicsCard$$anonfun$maxResolution$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; public GraphicsCard$$anonfun$maxResolution$1(GraphicsCard $outer) {} public final Object[] apply(TextBuffer s) { Tuple2<Object, Object> tuple2 = this.$outer.li$cil$oc$server$component$GraphicsCard$$maxResolution(); if (tuple2 != null) { int gmw = tuple2._1$mcI$sp(), gmh = tuple2._2$mcI$sp(); Tuple2.mcII.sp sp2 = new Tuple2.mcII.sp(gmw, gmh), sp1 = sp2; int i = sp1._1$mcI$sp(), j = sp1._2$mcI$sp(); int smw = s.getMaximumWidth(); int smh = s.getMaximumHeight(); return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(package$.MODULE$.min(i, smw)), BoxesRunTime.boxToInteger(package$.MODULE$.min(j, smh)) })); }  throw new MatchError(tuple2); } } @Callback(direct = true, doc = "function():number, number -- Get the current viewport resolution.") public Object[] getViewport(Context context, Arguments args) { return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$getViewport$1(this)); } public final class GraphicsCard$$anonfun$getViewport$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; public final Object[] apply(TextBuffer s) { return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(s.getViewportWidth()), BoxesRunTime.boxToInteger(s.getViewportHeight()) })); } public GraphicsCard$$anonfun$getViewport$1(GraphicsCard $outer) {} } @Callback(doc = "function(width:number, height:number):boolean -- Set the viewport resolution. Cannot exceed the screen resolution. Returns true if the resolution changed.") public Object[] setViewport(Context context, Arguments args) { int w = args.checkInteger(0); int h = args.checkInteger(1); Tuple2<Object, Object> tuple2 = li$cil$oc$server$component$GraphicsCard$$maxResolution(); if (tuple2 != null) { int mw = tuple2._1$mcI$sp(), mh = tuple2._2$mcI$sp(); Tuple2.mcII.sp sp2 = new Tuple2.mcII.sp(mw, mh), sp1 = sp2; int i = sp1._1$mcI$sp(), j = sp1._2$mcI$sp(); if (w < 1 || h < 1 || w > i || h > i || h * w > i * j) throw new IllegalArgumentException("unsupported viewport size");  return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$setViewport$1(this, w, h)); }  throw new MatchError(tuple2); } public final class GraphicsCard$$anonfun$setViewport$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; private final int w$3; private final int h$3; public GraphicsCard$$anonfun$setViewport$1(GraphicsCard $outer, int w$3, int h$3) {} public final Object[] apply(TextBuffer s) { if (this.w$3 > s.getWidth() || this.h$3 > s.getHeight()) throw new IllegalArgumentException("unsupported viewport size");  return package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(s.setViewport(this.w$3, this.h$3)) })); } } @Callback(direct = true, doc = "function(x:number, y:number):string, number, number, number or nil, number or nil -- Get the value displayed on the screen at the specified index, as well as the foreground and background color. If the foreground or background is from the palette, returns the palette indices as fourth and fifth results, else nil, respectively.") public Object[] get(Context context, Arguments args) { int x = args.checkInteger(0) - 1; int y = args.checkInteger(1) - 1; return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$get$1(this, x, y)); } public final class GraphicsCard$$anonfun$get$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; private final int x$13; private final int y$1; public GraphicsCard$$anonfun$get$1(GraphicsCard $outer, int x$13, int y$1) {} public final Object[] apply(TextBuffer s) { int fgValue = s.getForegroundColor(this.x$13, this.y$1); Tuple2 tuple2 = (Tuple2)(s.isForegroundFromPalette(this.x$13, this.y$1) ? new Tuple2.mcII.sp(s.getPaletteColor(fgValue), fgValue) : new Tuple2(BoxesRunTime.boxToInteger(fgValue), Unit$.MODULE$)); if (tuple2 != null) { int fgColor = tuple2._1$mcI$sp(); Object fgIndex = tuple2._2(); Tuple2 tuple22 = new Tuple2(BoxesRunTime.boxToInteger(fgColor), fgIndex), tuple21 = tuple22; int i = tuple21._1$mcI$sp(); Object object1 = tuple21._2(); int bgValue = s.getBackgroundColor(this.x$13, this.y$1); }  throw new MatchError(tuple2); } } @Callback(direct = true, doc = "function(x:number, y:number, value:string[, vertical:boolean]):boolean -- Plots a string value to the screen at the specified position. Optionally writes the string vertically.") public Object[] set(Context context, Arguments args) { int x = args.checkInteger(0) - 1; int y = args.checkInteger(1) - 1; String value = args.checkString(2); boolean vertical = args.optBoolean(3, false); return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$set$1(this, context, x, y, value, vertical)); } public final class GraphicsCard$$anonfun$set$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; private final Context context$3; private final int x$14; private final int y$2; private final String value$1; private final boolean vertical$1; public GraphicsCard$$anonfun$set$1(GraphicsCard $outer, Context context$3, int x$14, int y$2, String value$1, boolean vertical$1) {} public final Object[] apply(TextBuffer s) { s.set(this.x$14, this.y$2, this.value$1, this.vertical$1); return this.$outer.li$cil$oc$server$component$GraphicsCard$$resolveInvokeCosts(this.$outer.li$cil$oc$server$component$GraphicsCard$$bufferIndex(), this.context$3, this.$outer.setCosts()[this.$outer.tier()], ExtendedUnicodeHelper.length(this.value$1), Settings$.MODULE$.get().gpuSetCost()) ? package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(true) })) : package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { Unit$.MODULE$, "not enough energy" })); } } @Callback(direct = true, doc = "function(x:number, y:number, width:number, height:number, tx:number, ty:number):boolean -- Copies a portion of the screen from the specified location with the specified size by the specified translation.") public Object[] copy(Context context, Arguments args) { int x = args.checkInteger(0) - 1; int y = args.checkInteger(1) - 1; int w = package$.MODULE$.max(0, args.checkInteger(2)); int h = package$.MODULE$.max(0, args.checkInteger(3)); int tx = args.checkInteger(4); int ty = args.checkInteger(5); return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$copy$1(this, context, x, y, w, h, tx, ty)); } public final class GraphicsCard$$anonfun$copy$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; private final Context context$4; private final int x$15; private final int y$3; private final int w$4; private final int h$4; private final int tx$1; private final int ty$1; public GraphicsCard$$anonfun$copy$1(GraphicsCard $outer, Context context$4, int x$15, int y$3, int w$4, int h$4, int tx$1, int ty$1) {} public final Object[] apply(TextBuffer s) { s.copy(this.x$15, this.y$3, this.w$4, this.h$4, this.tx$1, this.ty$1); return this.$outer.li$cil$oc$server$component$GraphicsCard$$resolveInvokeCosts(this.$outer.li$cil$oc$server$component$GraphicsCard$$bufferIndex(), this.context$4, this.$outer.copyCosts()[this.$outer.tier()], this.w$4 * this.h$4, Settings$.MODULE$.get().gpuCopyCost()) ? package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(true) })) : package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { Unit$.MODULE$, "not enough energy" })); } } @Callback(direct = true, doc = "function(x:number, y:number, width:number, height:number, char:string):boolean -- Fills a portion of the screen at the specified position with the specified size with the specified character.") public Object[] fill(Context context, Arguments args) { int x = args.checkInteger(0) - 1; int y = args.checkInteger(1) - 1; int w = package$.MODULE$.max(0, args.checkInteger(2)); int h = package$.MODULE$.max(0, args.checkInteger(3)); String value = args.checkString(4); if (ExtendedUnicodeHelper.length(value) == 1) return screen((Function1<TextBuffer, Object[]>)new GraphicsCard$$anonfun$fill$1(this, context, x, y, w, h, value));  throw new Exception("invalid fill value"); } public final class GraphicsCard$$anonfun$fill$1 extends AbstractFunction1<TextBuffer, Object[]> implements Serializable {
/*     */     public static final long serialVersionUID = 0L; private final Context context$5; private final int x$16; private final int y$4; private final int w$5; private final int h$5; private final String value$2; public GraphicsCard$$anonfun$fill$1(GraphicsCard $outer, Context context$5, int x$16, int y$4, int w$5, int h$5, String value$2) {} public final Object[] apply(TextBuffer s) { int c = this.value$2.codePointAt(0); double cost = (c == 32) ? Settings$.MODULE$.get().gpuClearCost() : Settings$.MODULE$.get().gpuFillCost(); s.fill(this.x$16, this.y$4, this.w$5, this.h$5, c); return this.$outer.li$cil$oc$server$component$GraphicsCard$$resolveInvokeCosts(this.$outer.li$cil$oc$server$component$GraphicsCard$$bufferIndex(), this.context$5, this.$outer.fillCosts()[this.$outer.tier()], this.w$5 * this.h$5, cost) ? package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToBoolean(true) })) : package$.MODULE$.result((Seq<Object>)Predef$.MODULE$.genericWrapArray(new Object[] { Unit$.MODULE$, "not enough energy" })); } } private boolean consumePower(double n, double cost) { return node().tryChangeBuffer(-n * cost); } public void onMessage(Message message) { // Byte code:
/*     */     //   0: aload_0
/*     */     //   1: aload_1
/*     */     //   2: invokespecial onMessage : (Lli/cil/oc/api/network/Message;)V
/*     */     //   5: aload_0
/*     */     //   6: invokevirtual node : ()Lli/cil/oc/api/network/Connector;
/*     */     //   9: aload_1
/*     */     //   10: invokeinterface source : ()Lli/cil/oc/api/network/Node;
/*     */     //   15: invokeinterface isNeighborOf : (Lli/cil/oc/api/network/Node;)Z
/*     */     //   20: ifeq -> 105
/*     */     //   23: aload_1
/*     */     //   24: invokeinterface name : ()Ljava/lang/String;
/*     */     //   29: ldc_w 'computer.stopped'
/*     */     //   32: astore_2
/*     */     //   33: dup
/*     */     //   34: ifnonnull -> 45
/*     */     //   37: pop
/*     */     //   38: aload_2
/*     */     //   39: ifnull -> 81
/*     */     //   42: goto -> 52
/*     */     //   45: aload_2
/*     */     //   46: invokevirtual equals : (Ljava/lang/Object;)Z
/*     */     //   49: ifne -> 81
/*     */     //   52: aload_1
/*     */     //   53: invokeinterface name : ()Ljava/lang/String;
/*     */     //   58: ldc_w 'computer.started'
/*     */     //   61: astore_3
/*     */     //   62: dup
/*     */     //   63: ifnonnull -> 74
/*     */     //   66: pop
/*     */     //   67: aload_3
/*     */     //   68: ifnull -> 81
/*     */     //   71: goto -> 99
/*     */     //   74: aload_3
/*     */     //   75: invokevirtual equals : (Ljava/lang/Object;)Z
/*     */     //   78: ifeq -> 99
/*     */     //   81: aload_0
/*     */     //   82: aload_0
/*     */     //   83: invokevirtual RESERVED_SCREEN_INDEX : ()I
/*     */     //   86: invokespecial li$cil$oc$server$component$GraphicsCard$$bufferIndex_$eq : (I)V
/*     */     //   89: aload_0
/*     */     //   90: invokevirtual removeAllBuffers : ()I
/*     */     //   93: invokestatic boxToInteger : (I)Ljava/lang/Integer;
/*     */     //   96: goto -> 108
/*     */     //   99: getstatic scala/runtime/BoxedUnit.UNIT : Lscala/runtime/BoxedUnit;
/*     */     //   102: goto -> 108
/*     */     //   105: getstatic scala/runtime/BoxedUnit.UNIT : Lscala/runtime/BoxedUnit;
/*     */     //   108: pop
/*     */     //   109: aload_1
/*     */     //   110: invokeinterface name : ()Ljava/lang/String;
/*     */     //   115: ldc_w 'computer.stopped'
/*     */     //   118: astore #4
/*     */     //   120: dup
/*     */     //   121: ifnonnull -> 133
/*     */     //   124: pop
/*     */     //   125: aload #4
/*     */     //   127: ifnull -> 141
/*     */     //   130: goto -> 173
/*     */     //   133: aload #4
/*     */     //   135: invokevirtual equals : (Ljava/lang/Object;)Z
/*     */     //   138: ifeq -> 173
/*     */     //   141: aload_0
/*     */     //   142: invokevirtual node : ()Lli/cil/oc/api/network/Connector;
/*     */     //   145: aload_1
/*     */     //   146: invokeinterface source : ()Lli/cil/oc/api/network/Node;
/*     */     //   151: invokeinterface isNeighborOf : (Lli/cil/oc/api/network/Node;)Z
/*     */     //   156: ifeq -> 173
/*     */     //   159: aload_0
/*     */     //   160: new li/cil/oc/server/component/GraphicsCard$$anonfun$onMessage$1
/*     */     //   163: dup
/*     */     //   164: aload_0
/*     */     //   165: aload_1
/*     */     //   166: invokespecial <init> : (Lli/cil/oc/server/component/GraphicsCard;Lli/cil/oc/api/network/Message;)V
/*     */     //   169: invokespecial screen : (Lscala/Function1;)[Ljava/lang/Object;
/*     */     //   172: pop
/*     */     //   173: return
/*     */     // Line number table:
/*     */     //   Java source line number -> byte code offset
/*     */     //   #539	-> 0
/*     */     //   #540	-> 5
/*     */     //   #541	-> 23
/*     */     //   #542	-> 81
/*     */     //   #543	-> 89
/*     */     //   #541	-> 93
/*     */     //   #540	-> 105
/*     */     //   #547	-> 109
/*     */     //   #548	-> 159
/*     */     //   #538	-> 173
/*     */     // Local variable table:
/*     */     //   start	length	slot	name	descriptor
/*     */     //   0	174	0	this	Lli/cil/oc/server/component/GraphicsCard;
/*     */     //   0	174	1	message	Lli/cil/oc/api/network/Message; } public final class GraphicsCard$$anonfun$onMessage$1 extends AbstractFunction1<TextBuffer, Null$> implements Serializable { public static final long serialVersionUID = 0L; private final Message message$1; public GraphicsCard$$anonfun$onMessage$1(GraphicsCard $outer, Message message$1) {} public final Null$ apply(TextBuffer s) { Tuple2<Object, Object> tuple2 = this.$outer.li$cil$oc$server$component$GraphicsCard$$maxResolution(); if (tuple2 != null) { int gmw = tuple2._1$mcI$sp(), gmh = tuple2._2$mcI$sp(); Tuple2.mcII.sp sp2 = new Tuple2.mcII.sp(gmw, gmh), sp1 = sp2; int i = sp1._1$mcI$sp(), j = sp1._2$mcI$sp(); int smw = s.getMaximumWidth(); int smh = s.getMaximumHeight(); s.setResolution(package$.MODULE$.min(i, smw), package$.MODULE$.min(j, smh)); s.setColorDepth(TextBuffer.ColorDepth.values()[package$.MODULE$.min(this.$outer.li$cil$oc$server$component$GraphicsCard$$maxDepth().ordinal(), s.getMaximumColorDepth().ordinal())]); s.setForegroundColor(16777215); int w = s.getWidth(); int h = s.getHeight(); Environment environment = this.message$1.source().host(); if (environment instanceof Machine) { Machine machine = (Machine)environment; if (machine.lastError() != null) { BoxedUnit boxedUnit1; if (s.getColorDepth().ordinal() > TextBuffer.ColorDepth.OneBit.ordinal()) { s.setBackgroundColor(255); } else { s.setBackgroundColor(0); }  s.fill(0, 0, w, h, 32); try { (new String[2])[0] = "(.{1,"; (new String[2])[1] = "})\\\\s"; Regex wrapRegEx = (new StringOps(Predef$.MODULE$.augmentString((new StringContext((Seq)Predef$.MODULE$.wrapRefArray((Object[])new String[2]))).s((Seq)Predef$.MODULE$.genericWrapArray(new Object[] { BoxesRunTime.boxToInteger(package$.MODULE$.max(1, w - 2)) }))))).r(); String[] lines = (String[])(new StringOps(Predef$.MODULE$.augmentString(wrapRegEx.replaceAllIn((new StringBuilder()).append(Localization$.MODULE$.localizeImmediately(machine.lastError()).replace("\t", "  ")).append("\n").toString(), (Function1)new GraphicsCard$$anonfun$onMessage$1$$anonfun$1(this))))).lines().toArray(ClassTag$.MODULE$.apply(String.class)); int firstRow = RichInt$.MODULE$.max$extension(Predef$.MODULE$.intWrapper((h - lines.length) / 2), 2); String message = "Unrecoverable Error"; s.set((w - message.length()) / 2, firstRow - 2, message, false); int maxLineLength = BoxesRunTime.unboxToInt(Predef$.MODULE$.intArrayOps((int[])Predef$.MODULE$.refArrayOps((Object[])lines).map((Function1)new GraphicsCard$$anonfun$onMessage$1$$anonfun$2(this), Array$.MODULE$.canBuildFrom(ClassTag$.MODULE$.Int()))).max((Ordering)Ordering$Int$.MODULE$)); int col = RichInt$.MODULE$.max$extension(Predef$.MODULE$.intWrapper((w - maxLineLength) / 2), 0); Predef$.MODULE$.refArrayOps((Object[])Predef$.MODULE$.refArrayOps((Object[])lines).zipWithIndex(Array$.MODULE$.canBuildFrom(ClassTag$.MODULE$.apply(Tuple2.class)))).withFilter((Function1)new GraphicsCard$$anonfun$onMessage$1$$anonfun$apply$2(this)).foreach((Function1)new GraphicsCard$$anonfun$onMessage$1$$anonfun$apply$3(this, firstRow, col, s)); } finally { Exception exception = null; }  return null; }  }  s.setBackgroundColor(0); s.fill(0, 0, w, h, 32); BoxedUnit boxedUnit = BoxedUnit.UNIT; } else { throw new MatchError(tuple2); }  return null; } public final class GraphicsCard$$anonfun$onMessage$1$$anonfun$1 extends AbstractFunction1<Regex.Match, String> implements Serializable {
/*     */       public static final long serialVersionUID = 0L; public final String apply(Regex.Match m) { return Regex$.MODULE$.quoteReplacement((new StringBuilder()).append(m.group(1)).append("\n").toString()); } public GraphicsCard$$anonfun$onMessage$1$$anonfun$1(GraphicsCard$$anonfun$onMessage$1 $outer) {} } public final class GraphicsCard$$anonfun$onMessage$1$$anonfun$2 extends AbstractFunction1<String, Object> implements Serializable {
/*     */       public static final long serialVersionUID = 0L; public final int apply(String x$10) { return x$10.length(); } public GraphicsCard$$anonfun$onMessage$1$$anonfun$2(GraphicsCard$$anonfun$onMessage$1 $outer) {} } public final class GraphicsCard$$anonfun$onMessage$1$$anonfun$apply$2 extends AbstractFunction1<Tuple2<String, Object>, Object> implements Serializable {
/*     */       public static final long serialVersionUID = 0L; public final boolean apply(Tuple2 check$ifrefutable$1) { boolean bool; Tuple2 tuple2 = check$ifrefutable$1; if (tuple2 != null) { bool = true; } else { bool = false; }  return bool; } public GraphicsCard$$anonfun$onMessage$1$$anonfun$apply$2(GraphicsCard$$anonfun$onMessage$1 $outer) {} } public final class GraphicsCard$$anonfun$onMessage$1$$anonfun$apply$3 extends AbstractFunction1<Tuple2<String, Object>, BoxedUnit> implements Serializable { public static final long serialVersionUID = 0L; private final int firstRow$1; private final int col$2; private final TextBuffer s$1; public final void apply(Tuple2 x$11) { Tuple2 tuple2 = x$11; if (tuple2 != null) { String line = (String)tuple2._1(); int idx = tuple2._2$mcI$sp(); int row = this.firstRow$1 + idx; this.s$1.set(this.col$2, row, line, false); BoxedUnit boxedUnit = BoxedUnit.UNIT; return; }  throw new MatchError(tuple2); } public GraphicsCard$$anonfun$onMessage$1$$anonfun$apply$3(GraphicsCard$$anonfun$onMessage$1 $outer, int firstRow$1, int col$2, TextBuffer s$1) {} } } public void onConnect(Node node) { super.onConnect(node); if (screenInstance().isEmpty() && BoxesRunTime.unboxToBoolean(screenAddress().fold((Function0)new GraphicsCard$$anonfun$onConnect$1(this), (Function1)new GraphicsCard$$anonfun$onConnect$2(this, node)))) { Environment environment = node.host(); if (environment instanceof TextBuffer) { TextBuffer textBuffer = (TextBuffer)environment; screenInstance_$eq((Option<TextBuffer>)new Some(textBuffer)); BoxedUnit boxedUnit = BoxedUnit.UNIT; } else { BoxedUnit boxedUnit = BoxedUnit.UNIT; }  }  } public final class GraphicsCard$$anonfun$onConnect$1 extends AbstractFunction0.mcZ.sp implements Serializable { public static final long serialVersionUID = 0L; public final boolean apply() { return apply$mcZ$sp(); } public boolean apply$mcZ$sp() { return false; } public GraphicsCard$$anonfun$onConnect$1(GraphicsCard $outer) {} } public final class GraphicsCard$$anonfun$onConnect$2 extends AbstractFunction1<String, Object> implements Serializable { public static final long serialVersionUID = 0L; private final Node node$1; public final boolean apply(String x$12) { String str = this.node$1.address(); if (x$12 == null) { if (str != null); } else if (x$12.equals(str)) {  }  } public GraphicsCard$$anonfun$onConnect$2(GraphicsCard $outer, Node node$1) {} } public void onDisconnect(Node node) { super.onDisconnect(node); Connector connector = node(); if (node == null) { if (connector != null) { if (screenAddress().contains(node.address())) { screenAddress_$eq((Option<String>)None$.MODULE$); screenInstance_$eq((Option<TextBuffer>)None$.MODULE$); return; }  return; }  } else if (!node.equals(connector)) { if (screenAddress().contains(node.address())) { screenAddress_$eq((Option<String>)None$.MODULE$); screenInstance_$eq((Option<TextBuffer>)None$.MODULE$); return; }  return; }  screenAddress_$eq((Option<String>)None$.MODULE$); screenInstance_$eq((Option<TextBuffer>)None$.MODULE$); } private String SCREEN_KEY() { return this.SCREEN_KEY; } private String BUFFER_INDEX_KEY() { return this.BUFFER_INDEX_KEY; } private String VIDEO_RAM_KEY() { return this.VIDEO_RAM_KEY; } private final String NBT_PAGES() { return this.NBT_PAGES; } public final String li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_IDX() { return this.li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_IDX; } public final String li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_DATA() { return this.li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_DATA; } public void load(NBTTagCompound nbt) { // Byte code:
/*     */     //   0: aload_0
/*     */     //   1: aload_1
/*     */     //   2: invokespecial load : (Lnet/minecraft/nbt/NBTTagCompound;)V
/*     */     //   5: aload_1
/*     */     //   6: aload_0
/*     */     //   7: invokespecial SCREEN_KEY : ()Ljava/lang/String;
/*     */     //   10: invokevirtual func_74764_b : (Ljava/lang/String;)Z
/*     */     //   13: ifeq -> 77
/*     */     //   16: aload_1
/*     */     //   17: aload_0
/*     */     //   18: invokespecial SCREEN_KEY : ()Ljava/lang/String;
/*     */     //   21: invokevirtual func_74779_i : (Ljava/lang/String;)Ljava/lang/String;
/*     */     //   24: astore_2
/*     */     //   25: aload_2
/*     */     //   26: ifnull -> 58
/*     */     //   29: aload_2
/*     */     //   30: astore_3
/*     */     //   31: aload_3
/*     */     //   32: invokevirtual isEmpty : ()Z
/*     */     //   35: ifne -> 58
/*     */     //   38: aload_0
/*     */     //   39: new scala/Some
/*     */     //   42: dup
/*     */     //   43: aload_3
/*     */     //   44: invokespecial <init> : (Ljava/lang/Object;)V
/*     */     //   47: invokespecial screenAddress_$eq : (Lscala/Option;)V
/*     */     //   50: getstatic scala/runtime/BoxedUnit.UNIT : Lscala/runtime/BoxedUnit;
/*     */     //   53: astore #4
/*     */     //   55: goto -> 70
/*     */     //   58: aload_0
/*     */     //   59: getstatic scala/None$.MODULE$ : Lscala/None$;
/*     */     //   62: invokespecial screenAddress_$eq : (Lscala/Option;)V
/*     */     //   65: getstatic scala/runtime/BoxedUnit.UNIT : Lscala/runtime/BoxedUnit;
/*     */     //   68: astore #4
/*     */     //   70: aload_0
/*     */     //   71: getstatic scala/None$.MODULE$ : Lscala/None$;
/*     */     //   74: invokespecial screenInstance_$eq : (Lscala/Option;)V
/*     */     //   77: aload_1
/*     */     //   78: aload_0
/*     */     //   79: invokespecial BUFFER_INDEX_KEY : ()Ljava/lang/String;
/*     */     //   82: invokevirtual func_74764_b : (Ljava/lang/String;)Z
/*     */     //   85: ifeq -> 100
/*     */     //   88: aload_0
/*     */     //   89: aload_1
/*     */     //   90: aload_0
/*     */     //   91: invokespecial BUFFER_INDEX_KEY : ()Ljava/lang/String;
/*     */     //   94: invokevirtual func_74762_e : (Ljava/lang/String;)I
/*     */     //   97: invokespecial li$cil$oc$server$component$GraphicsCard$$bufferIndex_$eq : (I)V
/*     */     //   100: aload_0
/*     */     //   101: invokevirtual removeAllBuffers : ()I
/*     */     //   104: pop
/*     */     //   105: aload_1
/*     */     //   106: aload_0
/*     */     //   107: invokespecial VIDEO_RAM_KEY : ()Ljava/lang/String;
/*     */     //   110: invokevirtual func_74764_b : (Ljava/lang/String;)Z
/*     */     //   113: ifeq -> 172
/*     */     //   116: aload_1
/*     */     //   117: aload_0
/*     */     //   118: invokespecial VIDEO_RAM_KEY : ()Ljava/lang/String;
/*     */     //   121: invokevirtual func_74775_l : (Ljava/lang/String;)Lnet/minecraft/nbt/NBTTagCompound;
/*     */     //   124: astore #5
/*     */     //   126: aload #5
/*     */     //   128: aload_0
/*     */     //   129: invokespecial NBT_PAGES : ()Ljava/lang/String;
/*     */     //   132: aload_0
/*     */     //   133: invokespecial COMPOUND_ID : ()B
/*     */     //   136: invokevirtual func_150295_c : (Ljava/lang/String;I)Lnet/minecraft/nbt/NBTTagList;
/*     */     //   139: astore #6
/*     */     //   141: getstatic scala/runtime/RichInt$.MODULE$ : Lscala/runtime/RichInt$;
/*     */     //   144: getstatic scala/Predef$.MODULE$ : Lscala/Predef$;
/*     */     //   147: iconst_0
/*     */     //   148: invokevirtual intWrapper : (I)I
/*     */     //   151: aload #6
/*     */     //   153: invokevirtual func_74745_c : ()I
/*     */     //   156: invokevirtual until$extension0 : (II)Lscala/collection/immutable/Range;
/*     */     //   159: new li/cil/oc/server/component/GraphicsCard$$anonfun$load$1
/*     */     //   162: dup
/*     */     //   163: aload_0
/*     */     //   164: aload #6
/*     */     //   166: invokespecial <init> : (Lli/cil/oc/server/component/GraphicsCard;Lnet/minecraft/nbt/NBTTagList;)V
/*     */     //   169: invokevirtual foreach$mVc$sp : (Lscala/Function1;)V
/*     */     //   172: return
/*     */     // Line number table:
/*     */     //   Java source line number -> byte code offset
/*     */     //   #619	-> 0
/*     */     //   #621	-> 5
/*     */     //   #622	-> 16
/*     */     //   #623	-> 25
/*     */     //   #624	-> 58
/*     */     //   #626	-> 70
/*     */     //   #629	-> 77
/*     */     //   #630	-> 88
/*     */     //   #633	-> 100
/*     */     //   #634	-> 105
/*     */     //   #635	-> 116
/*     */     //   #636	-> 126
/*     */     //   #637	-> 144
/*     */     //   #618	-> 172
/*     */     // Local variable table:
/*     */     //   start	length	slot	name	descriptor
/*     */     //   0	173	0	this	Lli/cil/oc/server/component/GraphicsCard;
/*     */     //   0	173	1	nbt	Lnet/minecraft/nbt/NBTTagCompound;
/*     */     //   126	46	5	videoRamNbt	Lnet/minecraft/nbt/NBTTagCompound;
/* 637 */     //   141	31	6	nbtPages	Lnet/minecraft/nbt/NBTTagList; } public final class GraphicsCard$$anonfun$load$1 extends AbstractFunction1.mcVI.sp implements Serializable { public static final long serialVersionUID = 0L; public final void apply(int i) { apply$mcVI$sp(i); } private final NBTTagList nbtPages$1; public GraphicsCard$$anonfun$load$1(GraphicsCard $outer, NBTTagList nbtPages$1) {} public void apply$mcVI$sp(int i) {
/* 638 */       NBTTagCompound nbtPage = this.nbtPages$1.func_150305_b(i);
/* 639 */       int idx = nbtPage.func_74762_e(this.$outer.li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_IDX());
/* 640 */       NBTTagCompound data = nbtPage.func_74775_l(this.$outer.li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_DATA());
/* 641 */       this.$outer.loadBuffer(this.$outer.node().address(), idx, data);
/*     */     } }
/*     */ 
/*     */ 
/*     */   
/*     */   public void save(NBTTagCompound nbt) {
/* 647 */     super.save(nbt);
/*     */     
/* 649 */     if (screenAddress().isDefined()) {
/* 650 */       nbt.func_74778_a(SCREEN_KEY(), (String)screenAddress().get());
/*     */     }
/*     */     
/* 653 */     nbt.func_74768_a(BUFFER_INDEX_KEY(), li$cil$oc$server$component$GraphicsCard$$bufferIndex());
/*     */     
/* 655 */     NBTTagCompound videoRamNbt = new NBTTagCompound();
/* 656 */     NBTTagList nbtPages = new NBTTagList();
/*     */     
/* 658 */     int[] indexes = bufferIndexes();
/* 659 */     Predef$.MODULE$.intArrayOps(indexes).withFilter((Function1)new GraphicsCard$$anonfun$save$1(this)).foreach((Function1)new GraphicsCard$$anonfun$save$2(this, nbtPages));
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */     
/* 672 */     videoRamNbt.func_74782_a(NBT_PAGES(), (NBTBase)nbtPages);
/* 673 */     nbt.func_74782_a(VIDEO_RAM_KEY(), (NBTBase)videoRamNbt);
/*     */   }
/*     */   
/*     */   public final class GraphicsCard$$anonfun$save$1 extends AbstractFunction1.mcZI.sp implements Serializable {
/*     */     public static final long serialVersionUID = 0L;
/*     */     
/*     */     public final boolean apply(int check$ifrefutable$2) {
/*     */       return apply$mcZI$sp(check$ifrefutable$2);
/*     */     }
/*     */     
/*     */     public boolean apply$mcZI$sp(int check$ifrefutable$2) {
/*     */       int i = check$ifrefutable$2;
/*     */       return true;
/*     */     }
/*     */     
/*     */     public GraphicsCard$$anonfun$save$1(GraphicsCard $outer) {}
/*     */   }
/*     */   
/*     */   public final class GraphicsCard$$anonfun$save$2 extends AbstractFunction1.mcVI.sp implements Serializable {
/*     */     public static final long serialVersionUID = 0L;
/*     */     private final NBTTagList nbtPages$2;
/*     */     
/*     */     public final void apply(int idx) {
/*     */       apply$mcVI$sp(idx);
/*     */     }
/*     */     
/*     */     public GraphicsCard$$anonfun$save$2(GraphicsCard $outer, NBTTagList nbtPages$2) {}
/*     */     
/*     */     public void apply$mcVI$sp(int idx) {
/*     */       Option<GpuTextBuffer> option = this.$outer.getBuffer(idx);
/*     */       if (option instanceof Some) {
/*     */         Some some = (Some)option;
/*     */         GpuTextBuffer page = (GpuTextBuffer)some.x();
/*     */         NBTTagCompound nbtPage = new NBTTagCompound();
/*     */         nbtPage.func_74768_a(this.$outer.li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_IDX(), idx);
/*     */         NBTTagCompound data = new NBTTagCompound();
/*     */         page.data().save(data);
/*     */         nbtPage.func_74782_a(this.$outer.li$cil$oc$server$component$GraphicsCard$$NBT_PAGE_DATA(), (NBTBase)data);
/*     */         this.nbtPages$2.func_74742_a((NBTBase)nbtPage);
/*     */         BoxedUnit boxedUnit = BoxedUnit.UNIT;
/*     */       } else {
/*     */         BoxedUnit boxedUnit = BoxedUnit.UNIT;
/*     */       } 
/*     */     }
/*     */   }
/*     */ }


/* Location:              C:\Users\shame\AppData\Roaming\PrismLauncher\instances\GT_New_Horizons_2.7.4_Java_17-21\.minecraft\mods\OpenComputers-1.10.30-GTNH.jar!\li\cil\oc\server\component\GraphicsCard.class
 * Java compiler version: 8 (52.0)
 * JD-Core Version:       1.1.3
 */